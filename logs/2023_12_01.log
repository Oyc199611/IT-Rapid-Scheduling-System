2023-12-01 14:59:52,075 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 14:59:52,094 - root - INFO - test01_waf_strategy:接口请求失败，用例未通过
2023-12-01 14:59:52,094 - root - INFO - test01_waf_strategy:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 14:59:52,191 - root - INFO - test02_change_business_stragety_order:查询策略数据失败，用例未通过
2023-12-01 14:59:52,191 - root - INFO - test02_change_business_stragety_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 14:59:52,209 - root - INFO - test03_reset_business_stragety_order:查询策略数据失败，用例未通过
2023-12-01 14:59:52,209 - root - INFO - test03_reset_business_stragety_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 14:59:52,227 - root - INFO - test04_edit_business_stragety:查询策略数据失败，用例未通过
2023-12-01 14:59:52,227 - root - INFO - test04_edit_business_stragety:接口调用失败，信息如下： {'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 14:59:52,238 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 14:59:52,258 - root - INFO - test01_query_kongs:接口请求失败，用例未通过
2023-12-01 14:59:52,259 - root - INFO - test01_query_kongs:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 14:59:52,286 - root - INFO - test02_change_kong_order:查询网关信息失败,用例不通过
2023-12-01 14:59:52,286 - root - INFO - test02_change_kong_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 14:59:52,309 - root - INFO - test03_reset_kong_order:查询网关信息失败,用例未通过
2023-12-01 14:59:52,310 - root - INFO - test03_reset_kong_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 14:59:52,336 - root - INFO - test04_edit_kong_information:查询网关信息失败,用例不通过
2023-12-01 14:59:52,338 - root - INFO - test04_edit_kong_information:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 14:59:52,348 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 14:59:52,361 - root - INFO - test01_waf_strategy:查询waf策略失败,用例未通过
2023-12-01 14:59:52,361 - root - INFO - test01_waf_strategy:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 14:59:52,381 - root - INFO - test02_change_waf_status:查询waf策略失败,用例未通过
2023-12-01 14:59:52,382 - root - INFO - test02_change_waf_status:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 14:59:52,401 - root - INFO - test03_synchronization_waf:查询waf策略失败,用例未通过
2023-12-01 14:59:52,402 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 14:59:52,421 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 14:59:52,422 - root - INFO - test04_waf_details:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 14:59:52,441 - root - INFO - test05_change_waf_detail_status:查询waf数据失败
2023-12-01 14:59:52,442 - root - INFO - test05_change_waf_detail_status:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 14:59:52,460 - root - INFO - test06_edit_waf_detail:查询waf数据失败
2023-12-01 14:59:52,460 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:01:18,083 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:01:18,127 - root - INFO - test01_waf_strategy:接口请求失败，用例未通过
2023-12-01 15:01:18,128 - root - INFO - test01_waf_strategy:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 15:01:18,243 - root - INFO - test02_change_business_stragety_order:查询策略数据失败，用例未通过
2023-12-01 15:01:18,243 - root - INFO - test02_change_business_stragety_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 15:01:18,273 - root - INFO - test03_reset_business_stragety_order:查询策略数据失败，用例未通过
2023-12-01 15:01:18,273 - root - INFO - test03_reset_business_stragety_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 15:01:18,305 - root - INFO - test04_edit_business_stragety:查询策略数据失败，用例未通过
2023-12-01 15:01:18,305 - root - INFO - test04_edit_business_stragety:接口调用失败，信息如下： {'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 15:01:18,316 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:01:18,338 - root - INFO - test01_query_kongs:接口请求失败，用例未通过
2023-12-01 15:01:18,338 - root - INFO - test01_query_kongs:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 15:01:18,369 - root - INFO - test02_change_kong_order:查询网关信息失败,用例不通过
2023-12-01 15:01:18,369 - root - INFO - test02_change_kong_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 15:01:18,400 - root - INFO - test03_reset_kong_order:查询网关信息失败,用例未通过
2023-12-01 15:01:18,400 - root - INFO - test03_reset_kong_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 15:01:18,436 - root - INFO - test04_edit_kong_information:查询网关信息失败,用例不通过
2023-12-01 15:01:18,436 - root - INFO - test04_edit_kong_information:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 15:01:18,445 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:01:18,474 - root - INFO - test01_waf_strategy:查询waf策略失败,用例未通过
2023-12-01 15:01:18,475 - root - INFO - test01_waf_strategy:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:01:18,518 - root - INFO - test02_change_waf_status:查询waf策略失败,用例未通过
2023-12-01 15:01:18,519 - root - INFO - test02_change_waf_status:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:01:18,560 - root - INFO - test03_synchronization_waf:查询waf策略失败,用例未通过
2023-12-01 15:01:18,561 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:01:18,593 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:01:18,593 - root - INFO - test04_waf_details:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:01:18,626 - root - INFO - test05_change_waf_detail_status:查询waf数据失败
2023-12-01 15:01:18,626 - root - INFO - test05_change_waf_detail_status:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:01:18,664 - root - INFO - test06_edit_waf_detail:查询waf数据失败
2023-12-01 15:01:18,664 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:06:02,748 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:06:02,765 - root - INFO - test01_waf_strategy:接口请求失败，用例未通过
2023-12-01 15:06:02,766 - root - INFO - test01_waf_strategy:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 15:06:02,893 - root - INFO - test02_change_business_stragety_order:查询策略数据失败，用例未通过
2023-12-01 15:06:02,894 - root - INFO - test02_change_business_stragety_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 15:06:02,912 - root - INFO - test03_reset_business_stragety_order:查询策略数据失败，用例未通过
2023-12-01 15:06:02,912 - root - INFO - test03_reset_business_stragety_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 15:06:02,932 - root - INFO - test04_edit_business_stragety:查询策略数据失败，用例未通过
2023-12-01 15:06:02,932 - root - INFO - test04_edit_business_stragety:接口调用失败，信息如下： {'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongSimpleServices', 'message': '未授权'}
2023-12-01 15:06:02,943 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:06:02,953 - root - INFO - test01_query_kongs:接口请求失败，用例未通过
2023-12-01 15:06:02,953 - root - INFO - test01_query_kongs:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 15:06:02,971 - root - INFO - test02_change_kong_order:查询网关信息失败,用例不通过
2023-12-01 15:06:02,972 - root - INFO - test02_change_kong_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 15:06:02,990 - root - INFO - test03_reset_kong_order:查询网关信息失败,用例未通过
2023-12-01 15:06:02,991 - root - INFO - test03_reset_kong_order:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 15:06:03,007 - root - INFO - test04_edit_kong_information:查询网关信息失败,用例不通过
2023-12-01 15:06:03,007 - root - INFO - test04_edit_kong_information:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpKongInfos', 'message': '未授权'}
2023-12-01 15:06:03,015 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:06:03,025 - root - INFO - test01_waf_strategy:查询waf策略失败,用例未通过
2023-12-01 15:06:03,025 - root - INFO - test01_waf_strategy:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:06:03,044 - root - INFO - test02_change_waf_status:查询waf策略失败,用例未通过
2023-12-01 15:06:03,045 - root - INFO - test02_change_waf_status:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:06:03,065 - root - INFO - test03_synchronization_waf:查询waf策略失败,用例未通过
2023-12-01 15:06:03,065 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:06:03,083 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:06:03,084 - root - INFO - test04_waf_details:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:06:03,103 - root - INFO - test05_change_waf_detail_status:查询waf数据失败
2023-12-01 15:06:03,104 - root - INFO - test05_change_waf_detail_status:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:06:03,126 - root - INFO - test06_edit_waf_detail:查询waf数据失败
2023-12-01 15:06:03,127 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Expired JWT token.', 'path': '/api/cscpWafChecks', 'message': '未授权'}
2023-12-01 15:06:57,517 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:06:57,567 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:06:57,567 - root - INFO - test01_waf_strategy:获取的请求结果：{'data': [{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'regionName': '智慧运营系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 0, 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T09:22:52.405+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587719270624706562', 'nick': '大数据能力开放门户', 'serviceFlag': 1, 'upstreamId': '1587719270414991361', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713006758838274', 'kongId': '1572479661942816770', 'regionName': '大数据能力开放门户', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'dxjnlkfmh.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:12:27.223+08:00', 'updatedAt': '2023-10-25T15:56:05.984+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720110060126210', 'nick': '宽带网优评估云平台', 'serviceFlag': 1, 'upstreamId': '1587720109871382529', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712960285949953', 'kongId': '1572479661942816770', 'regionName': '宽带网优评估云平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'kdwypg.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:15:47.363+08:00', 'updatedAt': '2023-10-25T15:55:58.685+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720318487674881', 'nick': '江西电信综合考评系统', 'serviceFlag': 1, 'upstreamId': '1587720318395400193', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712907039260674', 'kongId': '1572479661942816770', 'regionName': '江西电信综合考评系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'zhkp.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:16:37.019+08:00', 'updatedAt': '2023-10-25T15:55:51.433+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720505121619969', 'nick': 'IT服务管理系统', 'serviceFlag': 1, 'upstreamId': '1587720505046122497', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712859731705857', 'kongId': '1572479661942816770', 'regionName': 'IT服务管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'itgl.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:17:21.517+08:00', 'updatedAt': '2023-10-25T15:55:43.712+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587756081044570114', 'nick': 'OSS运营支撑类系统', 'serviceFlag': 1, 'upstreamId': '1587756080872603649', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712162877456385', 'kongId': '1572479661942816770', 'regionName': 'OSS运营支撑类系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'ossyyzc.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T18:38:43.507+08:00', 'updatedAt': '2023-10-25T15:55:34.481+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601123814532497409', 'nick': '4A统一身份认证系统', 'serviceFlag': 1, 'upstreamId': '1601123813290983425', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'drz.jxtele.com', 'paths': '/', 'createdAt': '2022-12-09T15:57:19.551+08:00', 'updatedAt': '2023-10-25T16:12:29.777+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601126525994844161', 'nick': '营销服务支撑系统3', 'serviceFlag': 1, 'upstreamId': '1601126524925296641', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'yxzx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-12-09T16:08:05.984+08:00', 'updatedAt': '2023-11-30T09:57:45.177+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720890771095554', 'nick': '江西电信智慧机房管理系统2', 'serviceFlag': 1, 'upstreamId': '1587720890548797441', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712786109087745', 'kongId': '1572479661942816770', 'regionName': '江西电信智慧机房管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'zhjf.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:18:53.49+08:00', 'updatedAt': '2023-11-14T17:19:44.435+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587721206862233602', 'nick': '精准营销平台', 'serviceFlag': 1, 'upstreamId': '1587721205683634178', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712733361520641', 'kongId': '1572479661942816770', 'regionName': '精准营销平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'jzyx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:20:08.849+08:00', 'updatedAt': '2023-10-25T15:52:42.953+08:00', 'targetFlag': 1, 'enabledPluginNames': []}], 'recordsTotal': 45, 'recordsFiltered': 45}
2023-12-01 15:06:57,608 - root - INFO - test02_change_business_stragety_order:------用例场景：修改策略排序值------
2023-12-01 15:06:57,608 - root - INFO - test02_change_business_stragety_order:接口请求入参：{'newOrderby': 5, 'serviceId': '1587718666376495106'}
2023-12-01 15:06:57,632 - root - INFO - test02_change_business_stragety_order:成功修改策略排序值，用例通过
2023-12-01 15:06:58,174 - root - INFO - test03_reset_business_stragety_order:------用例场景：还原策略排序值------
2023-12-01 15:06:58,175 - root - INFO - test03_reset_business_stragety_order:接口请求入参：{'newOrderby': 0, 'serviceId': '1587718666376495106'}
2023-12-01 15:06:58,192 - root - INFO - test03_reset_business_stragety_order:成功还原策略排序值，用例通过
2023-12-01 15:06:58,245 - root - INFO - test04_edit_business_stragety:开始查询策略详情数据
2023-12-01 15:06:58,246 - root - INFO - test04_edit_business_stragety:查询策略详情接口请求入参：1587718666376495106
2023-12-01 15:06:58,266 - root - INFO - test04_edit_business_stragety:策略详情接口查询结果为：{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceUuid': '8f2da7d3-84b5-4ac3-9ca9-308c362f390c', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamUuid': '4729c0d0-5d11-41e9-95ea-ef2e256f536b', 'upstreamFlag': 1, 'routeId': '1587718666594598913', 'routeUuid': '3c39c61a-76b0-4b34-839e-03768c17f1b0', 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'retries': 5, 'protocol': 'https', 'host': 'zhyy', 'path': '/', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T09:22:52.405+08:00', 'httpsRedirectStatusCode': 426, 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'snis': 'zhyy.jxdxxt.com', 'pathHandling': 'v0', 'targetList': [{'id': '1587718666657513474', 'flag': 1, 'uuid': '11291d72-9e83-4f81-997b-fd1e650e2915', 'upstreamId': 1587718665114009602, 'upstreamUuid': '4729c0d0-5d11-41e9-95ea-ef2e256f536b', 'target': '134.224.183.49:4882', 'weight': 100, 'status': 1, 'createBy': 1, 'createAt': '2022-11-02T16:10:03.174+08:00', 'updateBy': 1719896862979702785, 'updateAt': '2023-12-01T09:22:52.422+08:00'}], 'enableActiveCheck': False, 'enablePassiveCheck': False}
2023-12-01 15:06:58,312 - root - INFO - test04_edit_business_stragety:查询到有系统域数据、业务网关数据、业务域名数据，开始进行编辑流程
2023-12-01 15:06:58,313 - root - INFO - test04_edit_business_stragety:------用例场景：修改策略数据------
2023-12-01 15:06:58,314 - root - INFO - test04_edit_business_stragety:接口请求入参：{"enableActiveCheck": false, "enablePassiveCheck": false, "routeId": "1587718666594598913", "routeUuid": "3c39c61a-76b0-4b34-839e-03768c17f1b0", "upstreamId": "1587718665114009602", "upstreamUuid": "4729c0d0-5d11-41e9-95ea-ef2e256f536b", "nick": "智慧运营系统2", "serviceId": "1587718666376495106", "regionId": "1587713057493139457", "kongId": "1572479661942816770", "hashOn": "none", "hashFallback": "none", "hashOnCookiePath": "/", "hashOnHeader": "", "hashFallHeader": "", "hashOnCookie": "", "slots": 10000, "healthchecks": {"active": {"unhealthy": {"interval": 0, "timeouts": 0, "tcp_failures": 0, "http_failures": 0, "http_statuses": [429, 404, 500, 501, 502, 503, 504, 505]}, "type": "https", "timeout": 1, "healthy": {"interval": 0, "successes": 0, "http_statuses": [200, 302]}, "concurrency": 10, "http_path": "/", "https_sni": "zhyy.jxdxxt.com", "https_verify_certificate": false}, "passive": {"unhealthy": {"timeouts": 0, "http_failures": 0, "http_statuses": [429, 500, 503], "tcp_failures": 0}, "healthy": {"successes": 0, "http_statuses": [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, "type": "https"}}, "retries": 5, "protocol": "https", "paths": "/", "pathHandling": "v0", "connectTimeout": 60000, "writeTimeout": 60000, "readTimeout": 60000, "orderby": 5, "protocols": "http,https", "methods": "", "hosts": "zhyy.jxdxxt.com", "path": "/", "regexPriority": 0, "stripPath": true, "preserveHost": false, "targetList": [{"id": "1587718666657513474", "weight": "100", "target": "134.224.183.49:4882"}]}
2023-12-01 15:06:58,490 - root - INFO - test04_edit_business_stragety:修改策略数据成功
2023-12-01 15:06:59,001 - root - INFO - test04_edit_business_stragety:------用例场景：还原策略数据------
2023-12-01 15:06:59,003 - root - INFO - test04_edit_business_stragety:接口请求入参：{'enableActiveCheck': False, 'enablePassiveCheck': False, 'routeId': '1587718666594598913', 'routeUuid': '3c39c61a-76b0-4b34-839e-03768c17f1b0', 'upstreamId': '1587718665114009602', 'upstreamUuid': '4729c0d0-5d11-41e9-95ea-ef2e256f536b', 'nick': '智慧运营系统2', 'serviceId': '1587718666376495106', 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'hashOnHeader': '', 'hashFallHeader': '', 'hashOnCookie': '', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'retries': 5, 'protocol': 'https', 'paths': '/', 'pathHandling': 'v0', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'orderby': 0, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'path': '/', 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'targetList': [{'id': '1587718666657513474', 'weight': '100', 'target': '134.224.183.49:4882'}]}
2023-12-01 15:06:59,163 - root - INFO - test04_edit_business_stragety:还原策略数据成功，整个用例通过
2023-12-01 15:06:59,172 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:06:59,195 - root - INFO - test01_query_kongs:接口请求成功，用例通过，获取的请求结果：{'pageNum': 1, 'pageSize': 1, 'size': 1, 'startRow': 0, 'endRow': 0, 'total': 1, 'pages': 1, 'list': [{'id': '1572479661942816770', 'name': '生产调度网关--模拟发版', 'url': 'http://192.168.103.77/kong-admin-api', 'key': 'icds@20220824', 'flag': 1, 'regionIds': '1,4,1572476132326948866', 'regionNames': 'MBOSS域,MSS,终端末梢系统', 'status': 1, 'orderby': 1, 'createBy': 1, 'createTime': '2022-09-21T14:55:41.318+08:00', 'updateBy': 1, 'updateTime': '2023-11-30T14:50:41.239+08:00', 'hasBeenUsed': True}], 'prePage': 0, 'nextPage': 0, 'isFirstPage': True, 'isLastPage': True, 'hasPreviousPage': False, 'hasNextPage': False, 'navigatePages': 8, 'navigatepageNums': [1], 'navigateFirstPage': 1, 'navigateLastPage': 1, 'lastPage': 1, 'firstPage': 1}
2023-12-01 15:06:59,221 - root - INFO - test02_change_kong_order:------用例场景：修改业务网关排序值------
2023-12-01 15:06:59,222 - root - INFO - test02_change_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '6'}
2023-12-01 15:06:59,237 - root - INFO - test02_change_kong_order:成功修改业务网关排序值，用例通过
2023-12-01 15:06:59,257 - root - INFO - test03_reset_kong_order:------用例场景：还原业务网关排序值------
2023-12-01 15:06:59,257 - root - INFO - test03_reset_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '1'}
2023-12-01 15:06:59,269 - root - INFO - test03_reset_kong_order:恢复业务网关排序值成功，用例通过
2023-12-01 15:06:59,291 - root - INFO - test04_edit_kong_information:------用例场景：编辑业务网关信息------
2023-12-01 15:06:59,291 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 6, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:06:59,318 - root - INFO - test04_edit_kong_information:编辑网关信息成功
2023-12-01 15:06:59,830 - root - INFO - test04_edit_kong_information:------用例场景：还原业务网关信息------
2023-12-01 15:06:59,832 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 1, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:06:59,902 - root - INFO - test04_edit_kong_information:还原网关信息成功，用例通过
2023-12-01 15:06:59,913 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:06:59,926 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:06:59,928 - root - INFO - test01_waf_strategy:获取请求结果：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:06:59,948 - root - INFO - test02_change_waf_status:------用例场景：修改waf策略状态------
2023-12-01 15:06:59,962 - root - INFO - test02_change_waf_status:修改waf策略状态成功
2023-12-01 15:07:00,483 - root - INFO - test02_change_waf_status:还原waf策略状态成功
2023-12-01 15:07:00,502 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:07:00,532 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:07:00,539 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:07:00,643 - root - INFO - test04_waf_details:------用例场景：查询第一条waf数据详情------
2023-12-01 15:07:00,656 - root - INFO - test04_waf_details:查询第一条waf数据详情成功
2023-12-01 15:07:00,657 - root - INFO - test04_waf_details:获得的查询结果：{'data': [{'id': '1628278021129584642', 'order': 1, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278076804775938', 'order': 2, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(bak|inc|old|mdb|sql|backup|java|class)$', 'enabled': 1, 'updateAt': '2023-02-22T14:18:40.11+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278124473040898', 'order': 3, 'checkId': 1, 'checkName': 'url类', 'rule': '(vhost|bbs|host|wwwroot|www|site|root|hytop|flashfxp).*\\.rar', 'enabled': 1, 'updateAt': '2023-02-22T14:18:51.475+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278166999089153', 'order': 4, 'checkId': 1, 'checkName': 'url类', 'rule': '(phpmyadmin|jmx-console|jmxinvokerservlet)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:01.614+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278289812504577', 'order': 5, 'checkId': 1, 'checkName': 'url类', 'rule': '/(attachments|upimg|images|css|uploadfiles|html|uploads|templets|static|template|data|inc|forumdata|upload|includes|cache|avatar)/(\\w+).(php|jsp)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:30.895+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628294141215531009', 'order': 6, 'checkId': 1, 'checkName': 'url类', 'rule': 'java\\.lang', 'enabled': 1, 'updateAt': '2023-02-22T15:22:30.163+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1676143244657766401', 'order': 7, 'checkId': 1, 'checkName': 'url类', 'rule': '/test?*', 'enabled': 1, 'updateAt': '2023-07-04T16:17:45.417+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}], 'recordsTotal': 7, 'recordsFiltered': 7}
2023-12-01 15:07:00,657 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:07:00,658 - root - INFO - test04_waf_details:失败原因：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:07:00,691 - root - INFO - test05_change_waf_detail_status:------用例场景：修改第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:07:00,705 - root - INFO - test05_change_waf_detail_status:修改第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:07:01,213 - root - INFO - test05_change_waf_detail_status:------用例场景：还原第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:07:01,231 - root - INFO - test05_change_waf_detail_status:还原第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:07:01,266 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:07:01,280 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:07:01,281 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:07:01,281 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:07:01,282 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:07:01,292 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:07:01,296 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:10:07,917 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:10:07,956 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:10:07,956 - root - INFO - test01_waf_strategy:获取的请求结果：{'data': [{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'regionName': '智慧运营系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 0, 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:04:17.438+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587719270624706562', 'nick': '大数据能力开放门户', 'serviceFlag': 1, 'upstreamId': '1587719270414991361', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713006758838274', 'kongId': '1572479661942816770', 'regionName': '大数据能力开放门户', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'dxjnlkfmh.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:12:27.223+08:00', 'updatedAt': '2023-10-25T15:56:05.984+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720110060126210', 'nick': '宽带网优评估云平台', 'serviceFlag': 1, 'upstreamId': '1587720109871382529', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712960285949953', 'kongId': '1572479661942816770', 'regionName': '宽带网优评估云平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'kdwypg.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:15:47.363+08:00', 'updatedAt': '2023-10-25T15:55:58.685+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720318487674881', 'nick': '江西电信综合考评系统', 'serviceFlag': 1, 'upstreamId': '1587720318395400193', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712907039260674', 'kongId': '1572479661942816770', 'regionName': '江西电信综合考评系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'zhkp.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:16:37.019+08:00', 'updatedAt': '2023-10-25T15:55:51.433+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720505121619969', 'nick': 'IT服务管理系统', 'serviceFlag': 1, 'upstreamId': '1587720505046122497', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712859731705857', 'kongId': '1572479661942816770', 'regionName': 'IT服务管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'itgl.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:17:21.517+08:00', 'updatedAt': '2023-10-25T15:55:43.712+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587756081044570114', 'nick': 'OSS运营支撑类系统', 'serviceFlag': 1, 'upstreamId': '1587756080872603649', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712162877456385', 'kongId': '1572479661942816770', 'regionName': 'OSS运营支撑类系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'ossyyzc.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T18:38:43.507+08:00', 'updatedAt': '2023-10-25T15:55:34.481+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601123814532497409', 'nick': '4A统一身份认证系统', 'serviceFlag': 1, 'upstreamId': '1601123813290983425', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'drz.jxtele.com', 'paths': '/', 'createdAt': '2022-12-09T15:57:19.551+08:00', 'updatedAt': '2023-10-25T16:12:29.777+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601126525994844161', 'nick': '营销服务支撑系统3', 'serviceFlag': 1, 'upstreamId': '1601126524925296641', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'yxzx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-12-09T16:08:05.984+08:00', 'updatedAt': '2023-11-30T09:57:45.177+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720890771095554', 'nick': '江西电信智慧机房管理系统2', 'serviceFlag': 1, 'upstreamId': '1587720890548797441', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712786109087745', 'kongId': '1572479661942816770', 'regionName': '江西电信智慧机房管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'zhjf.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:18:53.49+08:00', 'updatedAt': '2023-11-14T17:19:44.435+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587721206862233602', 'nick': '精准营销平台', 'serviceFlag': 1, 'upstreamId': '1587721205683634178', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712733361520641', 'kongId': '1572479661942816770', 'regionName': '精准营销平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'jzyx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:20:08.849+08:00', 'updatedAt': '2023-10-25T15:52:42.953+08:00', 'targetFlag': 1, 'enabledPluginNames': []}], 'recordsTotal': 45, 'recordsFiltered': 45}
2023-12-01 15:10:07,997 - root - INFO - test02_change_business_stragety_order:------用例场景：修改策略排序值------
2023-12-01 15:10:07,998 - root - INFO - test02_change_business_stragety_order:接口请求入参：{'newOrderby': 5, 'serviceId': '1587718666376495106'}
2023-12-01 15:10:08,012 - root - INFO - test02_change_business_stragety_order:成功修改策略排序值，用例通过
2023-12-01 15:10:08,566 - root - INFO - test03_reset_business_stragety_order:------用例场景：还原策略排序值------
2023-12-01 15:10:08,567 - root - INFO - test03_reset_business_stragety_order:接口请求入参：{'newOrderby': 0, 'serviceId': '1587718666376495106'}
2023-12-01 15:10:08,627 - root - INFO - test03_reset_business_stragety_order:成功还原策略排序值，用例通过
2023-12-01 15:10:08,684 - root - INFO - test04_edit_business_stragety:开始查询策略详情数据
2023-12-01 15:10:08,685 - root - INFO - test04_edit_business_stragety:查询策略详情接口请求入参：1587718666376495106
2023-12-01 15:10:08,704 - root - INFO - test04_edit_business_stragety:策略详情接口查询结果为：{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceUuid': 'b657fe9b-b8c0-4c9d-b71b-27b9718b8953', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamUuid': '9ac93275-61c9-474a-b3ad-168937d71036', 'upstreamFlag': 1, 'routeId': '1587718666594598913', 'routeUuid': '4bcd503d-b4f7-433e-a569-7ff8d97e6934', 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'retries': 5, 'protocol': 'https', 'host': 'zhyy', 'path': '/', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:04:17.438+08:00', 'httpsRedirectStatusCode': 426, 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'snis': 'zhyy.jxdxxt.com', 'pathHandling': 'v0', 'targetList': [{'id': '1587718666657513474', 'flag': 1, 'uuid': '31a74f17-66ed-4e09-8043-da4cd8f6d888', 'upstreamId': 1587718665114009602, 'upstreamUuid': '9ac93275-61c9-474a-b3ad-168937d71036', 'target': '134.224.183.49:4882', 'weight': 100, 'status': 1, 'createBy': 1, 'createAt': '2022-11-02T16:10:03.174+08:00', 'updateBy': 1, 'updateAt': '2023-12-01T15:04:17.453+08:00'}], 'enableActiveCheck': False, 'enablePassiveCheck': False}
2023-12-01 15:10:08,744 - root - INFO - test04_edit_business_stragety:查询到有系统域数据、业务网关数据、业务域名数据，开始进行编辑流程
2023-12-01 15:10:08,744 - root - INFO - test04_edit_business_stragety:------用例场景：修改策略数据------
2023-12-01 15:10:08,746 - root - INFO - test04_edit_business_stragety:接口请求入参：{"enableActiveCheck": false, "enablePassiveCheck": false, "routeId": "1587718666594598913", "routeUuid": "4bcd503d-b4f7-433e-a569-7ff8d97e6934", "upstreamId": "1587718665114009602", "upstreamUuid": "9ac93275-61c9-474a-b3ad-168937d71036", "nick": "智慧运营系统2", "serviceId": "1587718666376495106", "regionId": "1587713057493139457", "kongId": "1572479661942816770", "hashOn": "none", "hashFallback": "none", "hashOnCookiePath": "/", "hashOnHeader": "", "hashFallHeader": "", "hashOnCookie": "", "slots": 10000, "healthchecks": {"active": {"unhealthy": {"interval": 0, "timeouts": 0, "tcp_failures": 0, "http_failures": 0, "http_statuses": [429, 404, 500, 501, 502, 503, 504, 505]}, "type": "https", "timeout": 1, "healthy": {"interval": 0, "successes": 0, "http_statuses": [200, 302]}, "concurrency": 10, "http_path": "/", "https_sni": "zhyy.jxdxxt.com", "https_verify_certificate": false}, "passive": {"unhealthy": {"timeouts": 0, "http_failures": 0, "http_statuses": [429, 500, 503], "tcp_failures": 0}, "healthy": {"successes": 0, "http_statuses": [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, "type": "https"}}, "retries": 5, "protocol": "https", "paths": "/", "pathHandling": "v0", "connectTimeout": 60000, "writeTimeout": 60000, "readTimeout": 60000, "orderby": 5, "protocols": "http,https", "methods": "", "hosts": "zhyy.jxdxxt.com", "path": "/", "regexPriority": 0, "stripPath": true, "preserveHost": false, "targetList": [{"id": "1587718666657513474", "weight": "100", "target": "134.224.183.49:4882"}]}
2023-12-01 15:10:08,923 - root - INFO - test04_edit_business_stragety:修改策略数据成功
2023-12-01 15:10:09,426 - root - INFO - test04_edit_business_stragety:------用例场景：还原策略数据------
2023-12-01 15:10:09,428 - root - INFO - test04_edit_business_stragety:接口请求入参：{'enableActiveCheck': False, 'enablePassiveCheck': False, 'routeId': '1587718666594598913', 'routeUuid': '4bcd503d-b4f7-433e-a569-7ff8d97e6934', 'upstreamId': '1587718665114009602', 'upstreamUuid': '9ac93275-61c9-474a-b3ad-168937d71036', 'nick': '智慧运营系统2', 'serviceId': '1587718666376495106', 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'hashOnHeader': '', 'hashFallHeader': '', 'hashOnCookie': '', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'retries': 5, 'protocol': 'https', 'paths': '/', 'pathHandling': 'v0', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'orderby': 0, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'path': '/', 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'targetList': [{'id': '1587718666657513474', 'weight': '100', 'target': '134.224.183.49:4882'}]}
2023-12-01 15:10:09,582 - root - INFO - test04_edit_business_stragety:还原策略数据成功，整个用例通过
2023-12-01 15:10:09,589 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:10:09,610 - root - INFO - test01_query_kongs:接口请求成功，用例通过，获取的请求结果：{'pageNum': 1, 'pageSize': 1, 'size': 1, 'startRow': 0, 'endRow': 0, 'total': 1, 'pages': 1, 'list': [{'id': '1572479661942816770', 'name': '生产调度网关--模拟发版', 'url': 'http://192.168.103.77/kong-admin-api', 'key': 'icds@20220824', 'flag': 1, 'regionIds': '1,4,1572476132326948866', 'regionNames': 'MBOSS域,MSS,终端末梢系统', 'status': 1, 'orderby': 1, 'createBy': 1, 'createTime': '2022-09-21T14:55:41.318+08:00', 'updateBy': 1, 'updateTime': '2023-12-01T15:04:18.181+08:00', 'hasBeenUsed': True}], 'prePage': 0, 'nextPage': 0, 'isFirstPage': True, 'isLastPage': True, 'hasPreviousPage': False, 'hasNextPage': False, 'navigatePages': 8, 'navigatepageNums': [1], 'navigateFirstPage': 1, 'navigateLastPage': 1, 'lastPage': 1, 'firstPage': 1}
2023-12-01 15:10:09,640 - root - INFO - test02_change_kong_order:------用例场景：修改业务网关排序值------
2023-12-01 15:10:09,641 - root - INFO - test02_change_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '6'}
2023-12-01 15:10:09,659 - root - INFO - test02_change_kong_order:成功修改业务网关排序值，用例通过
2023-12-01 15:10:09,679 - root - INFO - test03_reset_kong_order:------用例场景：还原业务网关排序值------
2023-12-01 15:10:09,680 - root - INFO - test03_reset_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '1'}
2023-12-01 15:10:09,692 - root - INFO - test03_reset_kong_order:恢复业务网关排序值成功，用例通过
2023-12-01 15:10:09,715 - root - INFO - test04_edit_kong_information:------用例场景：编辑业务网关信息------
2023-12-01 15:10:09,716 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 6, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:10:09,736 - root - INFO - test04_edit_kong_information:编辑网关信息成功
2023-12-01 15:10:10,250 - root - INFO - test04_edit_kong_information:------用例场景：还原业务网关信息------
2023-12-01 15:10:10,252 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 1, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:10:10,324 - root - INFO - test04_edit_kong_information:还原网关信息成功，用例通过
2023-12-01 15:10:10,333 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:10:10,348 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:10:10,349 - root - INFO - test01_waf_strategy:获取请求结果：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:10:10,368 - root - INFO - test02_change_waf_status:------用例场景：修改waf策略状态------
2023-12-01 15:10:10,388 - root - INFO - test02_change_waf_status:修改waf策略状态成功
2023-12-01 15:10:10,920 - root - INFO - test02_change_waf_status:还原waf策略状态成功
2023-12-01 15:10:10,941 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:10:10,979 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:10:10,982 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:10:11,078 - root - INFO - test04_waf_details:------用例场景：查询第一条waf数据详情------
2023-12-01 15:10:11,097 - root - INFO - test04_waf_details:查询第一条waf数据详情成功
2023-12-01 15:10:11,098 - root - INFO - test04_waf_details:获得的查询结果：{'data': [{'id': '1628278021129584642', 'order': 1, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278076804775938', 'order': 2, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(bak|inc|old|mdb|sql|backup|java|class)$', 'enabled': 1, 'updateAt': '2023-02-22T14:18:40.11+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278124473040898', 'order': 3, 'checkId': 1, 'checkName': 'url类', 'rule': '(vhost|bbs|host|wwwroot|www|site|root|hytop|flashfxp).*\\.rar', 'enabled': 1, 'updateAt': '2023-02-22T14:18:51.475+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278166999089153', 'order': 4, 'checkId': 1, 'checkName': 'url类', 'rule': '(phpmyadmin|jmx-console|jmxinvokerservlet)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:01.614+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278289812504577', 'order': 5, 'checkId': 1, 'checkName': 'url类', 'rule': '/(attachments|upimg|images|css|uploadfiles|html|uploads|templets|static|template|data|inc|forumdata|upload|includes|cache|avatar)/(\\w+).(php|jsp)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:30.895+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628294141215531009', 'order': 6, 'checkId': 1, 'checkName': 'url类', 'rule': 'java\\.lang', 'enabled': 1, 'updateAt': '2023-02-22T15:22:30.163+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1676143244657766401', 'order': 7, 'checkId': 1, 'checkName': 'url类', 'rule': '/test?*', 'enabled': 1, 'updateAt': '2023-07-04T16:17:45.417+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}], 'recordsTotal': 7, 'recordsFiltered': 7}
2023-12-01 15:10:11,099 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:10:11,100 - root - INFO - test04_waf_details:失败原因：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:10:11,135 - root - INFO - test05_change_waf_detail_status:------用例场景：修改第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:10:11,149 - root - INFO - test05_change_waf_detail_status:修改第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:10:11,662 - root - INFO - test05_change_waf_detail_status:------用例场景：还原第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:10:11,680 - root - INFO - test05_change_waf_detail_status:还原第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:10:11,720 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:10:11,735 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:10:11,737 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:10:11,738 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:10:11,738 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:10:11,750 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:10:11,755 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:15:50,776 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:15:50,830 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:15:50,830 - root - INFO - test01_waf_strategy:获取的请求结果：{'data': [{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'regionName': '智慧运营系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 0, 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:07:27.857+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587719270624706562', 'nick': '大数据能力开放门户', 'serviceFlag': 1, 'upstreamId': '1587719270414991361', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713006758838274', 'kongId': '1572479661942816770', 'regionName': '大数据能力开放门户', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'dxjnlkfmh.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:12:27.223+08:00', 'updatedAt': '2023-10-25T15:56:05.984+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720110060126210', 'nick': '宽带网优评估云平台', 'serviceFlag': 1, 'upstreamId': '1587720109871382529', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712960285949953', 'kongId': '1572479661942816770', 'regionName': '宽带网优评估云平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'kdwypg.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:15:47.363+08:00', 'updatedAt': '2023-10-25T15:55:58.685+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720318487674881', 'nick': '江西电信综合考评系统', 'serviceFlag': 1, 'upstreamId': '1587720318395400193', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712907039260674', 'kongId': '1572479661942816770', 'regionName': '江西电信综合考评系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'zhkp.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:16:37.019+08:00', 'updatedAt': '2023-10-25T15:55:51.433+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720505121619969', 'nick': 'IT服务管理系统', 'serviceFlag': 1, 'upstreamId': '1587720505046122497', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712859731705857', 'kongId': '1572479661942816770', 'regionName': 'IT服务管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'itgl.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:17:21.517+08:00', 'updatedAt': '2023-10-25T15:55:43.712+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587756081044570114', 'nick': 'OSS运营支撑类系统', 'serviceFlag': 1, 'upstreamId': '1587756080872603649', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712162877456385', 'kongId': '1572479661942816770', 'regionName': 'OSS运营支撑类系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'ossyyzc.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T18:38:43.507+08:00', 'updatedAt': '2023-10-25T15:55:34.481+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601123814532497409', 'nick': '4A统一身份认证系统', 'serviceFlag': 1, 'upstreamId': '1601123813290983425', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'drz.jxtele.com', 'paths': '/', 'createdAt': '2022-12-09T15:57:19.551+08:00', 'updatedAt': '2023-10-25T16:12:29.777+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601126525994844161', 'nick': '营销服务支撑系统3', 'serviceFlag': 1, 'upstreamId': '1601126524925296641', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'yxzx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-12-09T16:08:05.984+08:00', 'updatedAt': '2023-11-30T09:57:45.177+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720890771095554', 'nick': '江西电信智慧机房管理系统2', 'serviceFlag': 1, 'upstreamId': '1587720890548797441', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712786109087745', 'kongId': '1572479661942816770', 'regionName': '江西电信智慧机房管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'zhjf.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:18:53.49+08:00', 'updatedAt': '2023-11-14T17:19:44.435+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587721206862233602', 'nick': '精准营销平台', 'serviceFlag': 1, 'upstreamId': '1587721205683634178', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712733361520641', 'kongId': '1572479661942816770', 'regionName': '精准营销平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'jzyx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:20:08.849+08:00', 'updatedAt': '2023-10-25T15:52:42.953+08:00', 'targetFlag': 1, 'enabledPluginNames': []}], 'recordsTotal': 45, 'recordsFiltered': 45}
2023-12-01 15:15:50,870 - root - INFO - test02_change_business_stragety_order:------用例场景：修改策略排序值------
2023-12-01 15:15:50,872 - root - INFO - test02_change_business_stragety_order:接口请求入参：{'newOrderby': 5, 'serviceId': '1587718666376495106'}
2023-12-01 15:15:50,891 - root - INFO - test02_change_business_stragety_order:成功修改策略排序值，用例通过
2023-12-01 15:15:51,442 - root - INFO - test03_reset_business_stragety_order:------用例场景：还原策略排序值------
2023-12-01 15:15:51,443 - root - INFO - test03_reset_business_stragety_order:接口请求入参：{'newOrderby': 0, 'serviceId': '1587718666376495106'}
2023-12-01 15:15:51,461 - root - INFO - test03_reset_business_stragety_order:成功还原策略排序值，用例通过
2023-12-01 15:15:51,504 - root - INFO - test04_edit_business_stragety:开始查询策略详情数据
2023-12-01 15:15:51,506 - root - INFO - test04_edit_business_stragety:查询策略详情接口请求入参：1587718666376495106
2023-12-01 15:15:51,526 - root - INFO - test04_edit_business_stragety:策略详情接口查询结果为：{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceUuid': '11fcf0d3-6f44-4445-a2bd-19d3dad5e3ae', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamUuid': 'b812285a-44ba-4fff-b80d-963b0556e3d7', 'upstreamFlag': 1, 'routeId': '1587718666594598913', 'routeUuid': 'e5bcb48b-cdce-480e-96da-5b83de6847c4', 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'retries': 5, 'protocol': 'https', 'host': 'zhyy', 'path': '/', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:07:27.857+08:00', 'httpsRedirectStatusCode': 426, 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'snis': 'zhyy.jxdxxt.com', 'pathHandling': 'v0', 'targetList': [{'id': '1587718666657513474', 'flag': 1, 'uuid': '5bfe8904-8d92-4f26-bfc3-0f801f590786', 'upstreamId': 1587718665114009602, 'upstreamUuid': 'b812285a-44ba-4fff-b80d-963b0556e3d7', 'target': '134.224.183.49:4882', 'weight': 100, 'status': 1, 'createBy': 1, 'createAt': '2022-11-02T16:10:03.174+08:00', 'updateBy': 1, 'updateAt': '2023-12-01T15:07:27.872+08:00'}], 'enableActiveCheck': False, 'enablePassiveCheck': False}
2023-12-01 15:15:51,571 - root - INFO - test04_edit_business_stragety:查询到有系统域数据、业务网关数据、业务域名数据，开始进行编辑流程
2023-12-01 15:15:51,572 - root - INFO - test04_edit_business_stragety:------用例场景：修改策略数据------
2023-12-01 15:15:51,573 - root - INFO - test04_edit_business_stragety:接口请求入参：{"enableActiveCheck": false, "enablePassiveCheck": false, "routeId": "1587718666594598913", "routeUuid": "e5bcb48b-cdce-480e-96da-5b83de6847c4", "upstreamId": "1587718665114009602", "upstreamUuid": "b812285a-44ba-4fff-b80d-963b0556e3d7", "nick": "智慧运营系统2", "serviceId": "1587718666376495106", "regionId": "1587713057493139457", "kongId": "1572479661942816770", "hashOn": "none", "hashFallback": "none", "hashOnCookiePath": "/", "hashOnHeader": "", "hashFallHeader": "", "hashOnCookie": "", "slots": 10000, "healthchecks": {"active": {"unhealthy": {"interval": 0, "timeouts": 0, "tcp_failures": 0, "http_failures": 0, "http_statuses": [429, 404, 500, 501, 502, 503, 504, 505]}, "type": "https", "timeout": 1, "healthy": {"interval": 0, "successes": 0, "http_statuses": [200, 302]}, "concurrency": 10, "http_path": "/", "https_sni": "zhyy.jxdxxt.com", "https_verify_certificate": false}, "passive": {"unhealthy": {"timeouts": 0, "http_failures": 0, "http_statuses": [429, 500, 503], "tcp_failures": 0}, "healthy": {"successes": 0, "http_statuses": [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, "type": "https"}}, "retries": 5, "protocol": "https", "paths": "/", "pathHandling": "v0", "connectTimeout": 60000, "writeTimeout": 60000, "readTimeout": 60000, "orderby": 5, "protocols": "http,https", "methods": "", "hosts": "zhyy.jxdxxt.com", "path": "/", "regexPriority": 0, "stripPath": true, "preserveHost": false, "targetList": [{"id": "1587718666657513474", "weight": "100", "target": "134.224.183.49:4882"}]}
2023-12-01 15:15:51,738 - root - INFO - test04_edit_business_stragety:修改策略数据成功
2023-12-01 15:15:52,250 - root - INFO - test04_edit_business_stragety:------用例场景：还原策略数据------
2023-12-01 15:15:52,251 - root - INFO - test04_edit_business_stragety:接口请求入参：{'enableActiveCheck': False, 'enablePassiveCheck': False, 'routeId': '1587718666594598913', 'routeUuid': 'e5bcb48b-cdce-480e-96da-5b83de6847c4', 'upstreamId': '1587718665114009602', 'upstreamUuid': 'b812285a-44ba-4fff-b80d-963b0556e3d7', 'nick': '智慧运营系统2', 'serviceId': '1587718666376495106', 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'hashOnHeader': '', 'hashFallHeader': '', 'hashOnCookie': '', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'retries': 5, 'protocol': 'https', 'paths': '/', 'pathHandling': 'v0', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'orderby': 0, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'path': '/', 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'targetList': [{'id': '1587718666657513474', 'weight': '100', 'target': '134.224.183.49:4882'}]}
2023-12-01 15:15:52,410 - root - INFO - test04_edit_business_stragety:还原策略数据成功，整个用例通过
2023-12-01 15:15:52,421 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:15:52,442 - root - INFO - test01_query_kongs:接口请求成功，用例通过，获取的请求结果：{'pageNum': 1, 'pageSize': 1, 'size': 1, 'startRow': 0, 'endRow': 0, 'total': 1, 'pages': 1, 'list': [{'id': '1572479661942816770', 'name': '生产调度网关--模拟发版', 'url': 'http://192.168.103.77/kong-admin-api', 'key': 'icds@20220824', 'flag': 1, 'regionIds': '1,4,1572476132326948866', 'regionNames': 'MBOSS域,MSS,终端末梢系统', 'status': 1, 'orderby': 1, 'createBy': 1, 'createTime': '2022-09-21T14:55:41.318+08:00', 'updateBy': 1, 'updateTime': '2023-12-01T15:07:28.599+08:00', 'hasBeenUsed': True}], 'prePage': 0, 'nextPage': 0, 'isFirstPage': True, 'isLastPage': True, 'hasPreviousPage': False, 'hasNextPage': False, 'navigatePages': 8, 'navigatepageNums': [1], 'navigateFirstPage': 1, 'navigateLastPage': 1, 'lastPage': 1, 'firstPage': 1}
2023-12-01 15:15:52,470 - root - INFO - test02_change_kong_order:------用例场景：修改业务网关排序值------
2023-12-01 15:15:52,471 - root - INFO - test02_change_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '6'}
2023-12-01 15:15:52,484 - root - INFO - test02_change_kong_order:成功修改业务网关排序值，用例通过
2023-12-01 15:15:52,509 - root - INFO - test03_reset_kong_order:------用例场景：还原业务网关排序值------
2023-12-01 15:15:52,509 - root - INFO - test03_reset_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '1'}
2023-12-01 15:15:52,529 - root - INFO - test03_reset_kong_order:恢复业务网关排序值成功，用例通过
2023-12-01 15:15:52,558 - root - INFO - test04_edit_kong_information:------用例场景：编辑业务网关信息------
2023-12-01 15:15:52,559 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 6, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:15:52,590 - root - INFO - test04_edit_kong_information:编辑网关信息成功
2023-12-01 15:15:53,099 - root - INFO - test04_edit_kong_information:------用例场景：还原业务网关信息------
2023-12-01 15:15:53,101 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 1, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:15:53,126 - root - INFO - test04_edit_kong_information:还原网关信息成功，用例通过
2023-12-01 15:15:53,130 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:15:53,161 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:15:53,162 - root - INFO - test01_waf_strategy:获取请求结果：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:15:53,184 - root - INFO - test02_change_waf_status:------用例场景：修改waf策略状态------
2023-12-01 15:15:53,201 - root - INFO - test02_change_waf_status:修改waf策略状态成功
2023-12-01 15:15:53,762 - root - INFO - test02_change_waf_status:还原waf策略状态成功
2023-12-01 15:15:53,780 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:15:53,807 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:15:53,811 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:15:53,914 - root - INFO - test04_waf_details:------用例场景：查询第一条waf数据详情------
2023-12-01 15:15:53,928 - root - INFO - test04_waf_details:查询第一条waf数据详情成功
2023-12-01 15:15:53,929 - root - INFO - test04_waf_details:获得的查询结果：{'data': [{'id': '1628278021129584642', 'order': 1, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278076804775938', 'order': 2, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(bak|inc|old|mdb|sql|backup|java|class)$', 'enabled': 1, 'updateAt': '2023-02-22T14:18:40.11+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278124473040898', 'order': 3, 'checkId': 1, 'checkName': 'url类', 'rule': '(vhost|bbs|host|wwwroot|www|site|root|hytop|flashfxp).*\\.rar', 'enabled': 1, 'updateAt': '2023-02-22T14:18:51.475+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278166999089153', 'order': 4, 'checkId': 1, 'checkName': 'url类', 'rule': '(phpmyadmin|jmx-console|jmxinvokerservlet)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:01.614+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278289812504577', 'order': 5, 'checkId': 1, 'checkName': 'url类', 'rule': '/(attachments|upimg|images|css|uploadfiles|html|uploads|templets|static|template|data|inc|forumdata|upload|includes|cache|avatar)/(\\w+).(php|jsp)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:30.895+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628294141215531009', 'order': 6, 'checkId': 1, 'checkName': 'url类', 'rule': 'java\\.lang', 'enabled': 1, 'updateAt': '2023-02-22T15:22:30.163+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1676143244657766401', 'order': 7, 'checkId': 1, 'checkName': 'url类', 'rule': '/test?*', 'enabled': 1, 'updateAt': '2023-07-04T16:17:45.417+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}], 'recordsTotal': 7, 'recordsFiltered': 7}
2023-12-01 15:15:53,930 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:15:53,931 - root - INFO - test04_waf_details:失败原因：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:15:53,966 - root - INFO - test05_change_waf_detail_status:------用例场景：修改第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:15:53,982 - root - INFO - test05_change_waf_detail_status:修改第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:15:54,484 - root - INFO - test05_change_waf_detail_status:------用例场景：还原第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:15:54,500 - root - INFO - test05_change_waf_detail_status:还原第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:15:54,536 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:15:54,551 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:15:54,551 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:15:54,553 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:15:54,553 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:15:54,564 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:15:54,567 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:16:53,180 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:16:53,224 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:16:53,225 - root - INFO - test01_waf_strategy:获取的请求结果：{'data': [{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'regionName': '智慧运营系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 0, 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:13:10.679+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587719270624706562', 'nick': '大数据能力开放门户', 'serviceFlag': 1, 'upstreamId': '1587719270414991361', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713006758838274', 'kongId': '1572479661942816770', 'regionName': '大数据能力开放门户', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'dxjnlkfmh.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:12:27.223+08:00', 'updatedAt': '2023-10-25T15:56:05.984+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720110060126210', 'nick': '宽带网优评估云平台', 'serviceFlag': 1, 'upstreamId': '1587720109871382529', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712960285949953', 'kongId': '1572479661942816770', 'regionName': '宽带网优评估云平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'kdwypg.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:15:47.363+08:00', 'updatedAt': '2023-10-25T15:55:58.685+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720318487674881', 'nick': '江西电信综合考评系统', 'serviceFlag': 1, 'upstreamId': '1587720318395400193', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712907039260674', 'kongId': '1572479661942816770', 'regionName': '江西电信综合考评系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'zhkp.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:16:37.019+08:00', 'updatedAt': '2023-10-25T15:55:51.433+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720505121619969', 'nick': 'IT服务管理系统', 'serviceFlag': 1, 'upstreamId': '1587720505046122497', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712859731705857', 'kongId': '1572479661942816770', 'regionName': 'IT服务管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'itgl.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:17:21.517+08:00', 'updatedAt': '2023-10-25T15:55:43.712+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587756081044570114', 'nick': 'OSS运营支撑类系统', 'serviceFlag': 1, 'upstreamId': '1587756080872603649', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712162877456385', 'kongId': '1572479661942816770', 'regionName': 'OSS运营支撑类系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'ossyyzc.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T18:38:43.507+08:00', 'updatedAt': '2023-10-25T15:55:34.481+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601123814532497409', 'nick': '4A统一身份认证系统', 'serviceFlag': 1, 'upstreamId': '1601123813290983425', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'drz.jxtele.com', 'paths': '/', 'createdAt': '2022-12-09T15:57:19.551+08:00', 'updatedAt': '2023-10-25T16:12:29.777+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601126525994844161', 'nick': '营销服务支撑系统3', 'serviceFlag': 1, 'upstreamId': '1601126524925296641', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'yxzx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-12-09T16:08:05.984+08:00', 'updatedAt': '2023-11-30T09:57:45.177+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720890771095554', 'nick': '江西电信智慧机房管理系统2', 'serviceFlag': 1, 'upstreamId': '1587720890548797441', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712786109087745', 'kongId': '1572479661942816770', 'regionName': '江西电信智慧机房管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'zhjf.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:18:53.49+08:00', 'updatedAt': '2023-11-14T17:19:44.435+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587721206862233602', 'nick': '精准营销平台', 'serviceFlag': 1, 'upstreamId': '1587721205683634178', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712733361520641', 'kongId': '1572479661942816770', 'regionName': '精准营销平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'jzyx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:20:08.849+08:00', 'updatedAt': '2023-10-25T15:52:42.953+08:00', 'targetFlag': 1, 'enabledPluginNames': []}], 'recordsTotal': 45, 'recordsFiltered': 45}
2023-12-01 15:16:53,271 - root - INFO - test02_change_business_stragety_order:------用例场景：修改策略排序值------
2023-12-01 15:16:53,271 - root - INFO - test02_change_business_stragety_order:接口请求入参：{'newOrderby': 5, 'serviceId': '1587718666376495106'}
2023-12-01 15:16:53,292 - root - INFO - test02_change_business_stragety_order:成功修改策略排序值，用例通过
2023-12-01 15:16:53,831 - root - INFO - test03_reset_business_stragety_order:------用例场景：还原策略排序值------
2023-12-01 15:16:53,832 - root - INFO - test03_reset_business_stragety_order:接口请求入参：{'newOrderby': 0, 'serviceId': '1587718666376495106'}
2023-12-01 15:16:53,849 - root - INFO - test03_reset_business_stragety_order:成功还原策略排序值，用例通过
2023-12-01 15:16:53,897 - root - INFO - test04_edit_business_stragety:开始查询策略详情数据
2023-12-01 15:16:53,898 - root - INFO - test04_edit_business_stragety:查询策略详情接口请求入参：1587718666376495106
2023-12-01 15:16:53,928 - root - INFO - test04_edit_business_stragety:策略详情接口查询结果为：{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceUuid': 'fc3c075e-6873-491a-8c09-6b82873a576a', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamUuid': '32edf787-2f6b-49f3-93c0-f10593073b68', 'upstreamFlag': 1, 'routeId': '1587718666594598913', 'routeUuid': '916aacd8-ed14-4b45-936e-6049684ca652', 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'retries': 5, 'protocol': 'https', 'host': 'zhyy', 'path': '/', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:13:10.679+08:00', 'httpsRedirectStatusCode': 426, 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'snis': 'zhyy.jxdxxt.com', 'pathHandling': 'v0', 'targetList': [{'id': '1587718666657513474', 'flag': 1, 'uuid': '9866c2dc-5baa-4aa9-b041-a9b375e56295', 'upstreamId': 1587718665114009602, 'upstreamUuid': '32edf787-2f6b-49f3-93c0-f10593073b68', 'target': '134.224.183.49:4882', 'weight': 100, 'status': 1, 'createBy': 1, 'createAt': '2022-11-02T16:10:03.174+08:00', 'updateBy': 1, 'updateAt': '2023-12-01T15:13:10.693+08:00'}], 'enableActiveCheck': False, 'enablePassiveCheck': False}
2023-12-01 15:16:53,973 - root - INFO - test04_edit_business_stragety:查询到有系统域数据、业务网关数据、业务域名数据，开始进行编辑流程
2023-12-01 15:16:53,974 - root - INFO - test04_edit_business_stragety:------用例场景：修改策略数据------
2023-12-01 15:16:53,975 - root - INFO - test04_edit_business_stragety:接口请求入参：{"enableActiveCheck": false, "enablePassiveCheck": false, "routeId": "1587718666594598913", "routeUuid": "916aacd8-ed14-4b45-936e-6049684ca652", "upstreamId": "1587718665114009602", "upstreamUuid": "32edf787-2f6b-49f3-93c0-f10593073b68", "nick": "智慧运营系统2", "serviceId": "1587718666376495106", "regionId": "1587713057493139457", "kongId": "1572479661942816770", "hashOn": "none", "hashFallback": "none", "hashOnCookiePath": "/", "hashOnHeader": "", "hashFallHeader": "", "hashOnCookie": "", "slots": 10000, "healthchecks": {"active": {"unhealthy": {"interval": 0, "timeouts": 0, "tcp_failures": 0, "http_failures": 0, "http_statuses": [429, 404, 500, 501, 502, 503, 504, 505]}, "type": "https", "timeout": 1, "healthy": {"interval": 0, "successes": 0, "http_statuses": [200, 302]}, "concurrency": 10, "http_path": "/", "https_sni": "zhyy.jxdxxt.com", "https_verify_certificate": false}, "passive": {"unhealthy": {"timeouts": 0, "http_failures": 0, "http_statuses": [429, 500, 503], "tcp_failures": 0}, "healthy": {"successes": 0, "http_statuses": [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, "type": "https"}}, "retries": 5, "protocol": "https", "paths": "/", "pathHandling": "v0", "connectTimeout": 60000, "writeTimeout": 60000, "readTimeout": 60000, "orderby": 5, "protocols": "http,https", "methods": "", "hosts": "zhyy.jxdxxt.com", "path": "/", "regexPriority": 0, "stripPath": true, "preserveHost": false, "targetList": [{"id": "1587718666657513474", "weight": "100", "target": "134.224.183.49:4882"}]}
2023-12-01 15:16:54,133 - root - INFO - test04_edit_business_stragety:修改策略数据成功
2023-12-01 15:16:54,636 - root - INFO - test04_edit_business_stragety:------用例场景：还原策略数据------
2023-12-01 15:16:54,638 - root - INFO - test04_edit_business_stragety:接口请求入参：{'enableActiveCheck': False, 'enablePassiveCheck': False, 'routeId': '1587718666594598913', 'routeUuid': '916aacd8-ed14-4b45-936e-6049684ca652', 'upstreamId': '1587718665114009602', 'upstreamUuid': '32edf787-2f6b-49f3-93c0-f10593073b68', 'nick': '智慧运营系统2', 'serviceId': '1587718666376495106', 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'hashOnHeader': '', 'hashFallHeader': '', 'hashOnCookie': '', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'retries': 5, 'protocol': 'https', 'paths': '/', 'pathHandling': 'v0', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'orderby': 0, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'path': '/', 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'targetList': [{'id': '1587718666657513474', 'weight': '100', 'target': '134.224.183.49:4882'}]}
2023-12-01 15:16:54,836 - root - INFO - test04_edit_business_stragety:还原策略数据成功，整个用例通过
2023-12-01 15:16:54,846 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:16:54,865 - root - INFO - test01_query_kongs:接口请求成功，用例通过，获取的请求结果：{'pageNum': 1, 'pageSize': 1, 'size': 1, 'startRow': 0, 'endRow': 0, 'total': 1, 'pages': 1, 'list': [{'id': '1572479661942816770', 'name': '生产调度网关--模拟发版', 'url': 'http://192.168.103.77/kong-admin-api', 'key': 'icds@20220824', 'flag': 1, 'regionIds': '1,4,1572476132326948866', 'regionNames': 'MBOSS域,MSS,终端末梢系统', 'status': 1, 'orderby': 1, 'createBy': 1, 'createTime': '2022-09-21T14:55:41.318+08:00', 'updateBy': 1, 'updateTime': '2023-12-01T15:13:11.442+08:00', 'hasBeenUsed': True}], 'prePage': 0, 'nextPage': 0, 'isFirstPage': True, 'isLastPage': True, 'hasPreviousPage': False, 'hasNextPage': False, 'navigatePages': 8, 'navigatepageNums': [1], 'navigateFirstPage': 1, 'navigateLastPage': 1, 'lastPage': 1, 'firstPage': 1}
2023-12-01 15:16:54,887 - root - INFO - test02_change_kong_order:------用例场景：修改业务网关排序值------
2023-12-01 15:16:54,887 - root - INFO - test02_change_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '6'}
2023-12-01 15:16:54,900 - root - INFO - test02_change_kong_order:成功修改业务网关排序值，用例通过
2023-12-01 15:16:54,923 - root - INFO - test03_reset_kong_order:------用例场景：还原业务网关排序值------
2023-12-01 15:16:54,923 - root - INFO - test03_reset_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '1'}
2023-12-01 15:16:54,938 - root - INFO - test03_reset_kong_order:恢复业务网关排序值成功，用例通过
2023-12-01 15:16:54,967 - root - INFO - test04_edit_kong_information:------用例场景：编辑业务网关信息------
2023-12-01 15:16:54,968 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 6, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:16:54,994 - root - INFO - test04_edit_kong_information:编辑网关信息成功
2023-12-01 15:16:55,507 - root - INFO - test04_edit_kong_information:------用例场景：还原业务网关信息------
2023-12-01 15:16:55,509 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 1, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:16:55,540 - root - INFO - test04_edit_kong_information:还原网关信息成功，用例通过
2023-12-01 15:16:55,550 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:16:55,562 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:16:55,563 - root - INFO - test01_waf_strategy:获取请求结果：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:16:55,582 - root - INFO - test02_change_waf_status:------用例场景：修改waf策略状态------
2023-12-01 15:16:55,600 - root - INFO - test02_change_waf_status:修改waf策略状态成功
2023-12-01 15:16:56,130 - root - INFO - test02_change_waf_status:还原waf策略状态成功
2023-12-01 15:16:56,155 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:16:56,181 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:16:56,186 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:16:56,280 - root - INFO - test04_waf_details:------用例场景：查询第一条waf数据详情------
2023-12-01 15:16:56,295 - root - INFO - test04_waf_details:查询第一条waf数据详情成功
2023-12-01 15:16:56,296 - root - INFO - test04_waf_details:获得的查询结果：{'data': [{'id': '1628278021129584642', 'order': 1, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278076804775938', 'order': 2, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(bak|inc|old|mdb|sql|backup|java|class)$', 'enabled': 1, 'updateAt': '2023-02-22T14:18:40.11+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278124473040898', 'order': 3, 'checkId': 1, 'checkName': 'url类', 'rule': '(vhost|bbs|host|wwwroot|www|site|root|hytop|flashfxp).*\\.rar', 'enabled': 1, 'updateAt': '2023-02-22T14:18:51.475+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278166999089153', 'order': 4, 'checkId': 1, 'checkName': 'url类', 'rule': '(phpmyadmin|jmx-console|jmxinvokerservlet)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:01.614+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278289812504577', 'order': 5, 'checkId': 1, 'checkName': 'url类', 'rule': '/(attachments|upimg|images|css|uploadfiles|html|uploads|templets|static|template|data|inc|forumdata|upload|includes|cache|avatar)/(\\w+).(php|jsp)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:30.895+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628294141215531009', 'order': 6, 'checkId': 1, 'checkName': 'url类', 'rule': 'java\\.lang', 'enabled': 1, 'updateAt': '2023-02-22T15:22:30.163+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1676143244657766401', 'order': 7, 'checkId': 1, 'checkName': 'url类', 'rule': '/test?*', 'enabled': 1, 'updateAt': '2023-07-04T16:17:45.417+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}], 'recordsTotal': 7, 'recordsFiltered': 7}
2023-12-01 15:16:56,297 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:16:56,297 - root - INFO - test04_waf_details:失败原因：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:16:56,328 - root - INFO - test05_change_waf_detail_status:------用例场景：修改第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:16:56,342 - root - INFO - test05_change_waf_detail_status:修改第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:16:56,847 - root - INFO - test05_change_waf_detail_status:------用例场景：还原第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:16:56,866 - root - INFO - test05_change_waf_detail_status:还原第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:16:56,902 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:16:56,923 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:16:56,924 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:16:56,925 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:16:56,926 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:16:56,938 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:16:56,942 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:17:21,815 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:17:21,849 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:17:21,850 - root - INFO - test01_waf_strategy:获取的请求结果：{'data': [{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'regionName': '智慧运营系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 0, 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:14:13.106+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587719270624706562', 'nick': '大数据能力开放门户', 'serviceFlag': 1, 'upstreamId': '1587719270414991361', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713006758838274', 'kongId': '1572479661942816770', 'regionName': '大数据能力开放门户', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'dxjnlkfmh.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:12:27.223+08:00', 'updatedAt': '2023-10-25T15:56:05.984+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720110060126210', 'nick': '宽带网优评估云平台', 'serviceFlag': 1, 'upstreamId': '1587720109871382529', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712960285949953', 'kongId': '1572479661942816770', 'regionName': '宽带网优评估云平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'kdwypg.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:15:47.363+08:00', 'updatedAt': '2023-10-25T15:55:58.685+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720318487674881', 'nick': '江西电信综合考评系统', 'serviceFlag': 1, 'upstreamId': '1587720318395400193', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712907039260674', 'kongId': '1572479661942816770', 'regionName': '江西电信综合考评系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'zhkp.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:16:37.019+08:00', 'updatedAt': '2023-10-25T15:55:51.433+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720505121619969', 'nick': 'IT服务管理系统', 'serviceFlag': 1, 'upstreamId': '1587720505046122497', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712859731705857', 'kongId': '1572479661942816770', 'regionName': 'IT服务管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'itgl.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:17:21.517+08:00', 'updatedAt': '2023-10-25T15:55:43.712+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587756081044570114', 'nick': 'OSS运营支撑类系统', 'serviceFlag': 1, 'upstreamId': '1587756080872603649', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712162877456385', 'kongId': '1572479661942816770', 'regionName': 'OSS运营支撑类系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'ossyyzc.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T18:38:43.507+08:00', 'updatedAt': '2023-10-25T15:55:34.481+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601123814532497409', 'nick': '4A统一身份认证系统', 'serviceFlag': 1, 'upstreamId': '1601123813290983425', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'drz.jxtele.com', 'paths': '/', 'createdAt': '2022-12-09T15:57:19.551+08:00', 'updatedAt': '2023-10-25T16:12:29.777+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601126525994844161', 'nick': '营销服务支撑系统3', 'serviceFlag': 1, 'upstreamId': '1601126524925296641', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'yxzx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-12-09T16:08:05.984+08:00', 'updatedAt': '2023-11-30T09:57:45.177+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720890771095554', 'nick': '江西电信智慧机房管理系统2', 'serviceFlag': 1, 'upstreamId': '1587720890548797441', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712786109087745', 'kongId': '1572479661942816770', 'regionName': '江西电信智慧机房管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'zhjf.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:18:53.49+08:00', 'updatedAt': '2023-11-14T17:19:44.435+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587721206862233602', 'nick': '精准营销平台', 'serviceFlag': 1, 'upstreamId': '1587721205683634178', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712733361520641', 'kongId': '1572479661942816770', 'regionName': '精准营销平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'jzyx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:20:08.849+08:00', 'updatedAt': '2023-10-25T15:52:42.953+08:00', 'targetFlag': 1, 'enabledPluginNames': []}], 'recordsTotal': 45, 'recordsFiltered': 45}
2023-12-01 15:17:21,888 - root - INFO - test02_change_business_stragety_order:------用例场景：修改策略排序值------
2023-12-01 15:17:21,888 - root - INFO - test02_change_business_stragety_order:接口请求入参：{'newOrderby': 5, 'serviceId': '1587718666376495106'}
2023-12-01 15:17:21,940 - root - INFO - test02_change_business_stragety_order:成功修改策略排序值，用例通过
2023-12-01 15:17:22,499 - root - INFO - test03_reset_business_stragety_order:------用例场景：还原策略排序值------
2023-12-01 15:17:22,501 - root - INFO - test03_reset_business_stragety_order:接口请求入参：{'newOrderby': 0, 'serviceId': '1587718666376495106'}
2023-12-01 15:17:22,556 - root - INFO - test03_reset_business_stragety_order:成功还原策略排序值，用例通过
2023-12-01 15:17:22,595 - root - INFO - test04_edit_business_stragety:开始查询策略详情数据
2023-12-01 15:17:22,597 - root - INFO - test04_edit_business_stragety:查询策略详情接口请求入参：1587718666376495106
2023-12-01 15:17:22,621 - root - INFO - test04_edit_business_stragety:策略详情接口查询结果为：{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceUuid': '09f0c549-72ee-48ee-8b68-19bc26cd4e55', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamUuid': '4717f427-eea1-4398-bda5-d186cc54f2d1', 'upstreamFlag': 1, 'routeId': '1587718666594598913', 'routeUuid': 'b776183d-7dc3-464c-a9b9-70e783ce2d8e', 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'retries': 5, 'protocol': 'https', 'host': 'zhyy', 'path': '/', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:14:13.106+08:00', 'httpsRedirectStatusCode': 426, 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'snis': 'zhyy.jxdxxt.com', 'pathHandling': 'v0', 'targetList': [{'id': '1587718666657513474', 'flag': 1, 'uuid': 'e0abca13-8527-47d5-ae44-42c3e4621c88', 'upstreamId': 1587718665114009602, 'upstreamUuid': '4717f427-eea1-4398-bda5-d186cc54f2d1', 'target': '134.224.183.49:4882', 'weight': 100, 'status': 1, 'createBy': 1, 'createAt': '2022-11-02T16:10:03.174+08:00', 'updateBy': 1, 'updateAt': '2023-12-01T15:14:13.121+08:00'}], 'enableActiveCheck': False, 'enablePassiveCheck': False}
2023-12-01 15:17:22,670 - root - INFO - test04_edit_business_stragety:查询到有系统域数据、业务网关数据、业务域名数据，开始进行编辑流程
2023-12-01 15:17:22,671 - root - INFO - test04_edit_business_stragety:------用例场景：修改策略数据------
2023-12-01 15:17:22,672 - root - INFO - test04_edit_business_stragety:接口请求入参：{"enableActiveCheck": false, "enablePassiveCheck": false, "routeId": "1587718666594598913", "routeUuid": "b776183d-7dc3-464c-a9b9-70e783ce2d8e", "upstreamId": "1587718665114009602", "upstreamUuid": "4717f427-eea1-4398-bda5-d186cc54f2d1", "nick": "智慧运营系统2", "serviceId": "1587718666376495106", "regionId": "1587713057493139457", "kongId": "1572479661942816770", "hashOn": "none", "hashFallback": "none", "hashOnCookiePath": "/", "hashOnHeader": "", "hashFallHeader": "", "hashOnCookie": "", "slots": 10000, "healthchecks": {"active": {"unhealthy": {"interval": 0, "timeouts": 0, "tcp_failures": 0, "http_failures": 0, "http_statuses": [429, 404, 500, 501, 502, 503, 504, 505]}, "type": "https", "timeout": 1, "healthy": {"interval": 0, "successes": 0, "http_statuses": [200, 302]}, "concurrency": 10, "http_path": "/", "https_sni": "zhyy.jxdxxt.com", "https_verify_certificate": false}, "passive": {"unhealthy": {"timeouts": 0, "http_failures": 0, "http_statuses": [429, 500, 503], "tcp_failures": 0}, "healthy": {"successes": 0, "http_statuses": [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, "type": "https"}}, "retries": 5, "protocol": "https", "paths": "/", "pathHandling": "v0", "connectTimeout": 60000, "writeTimeout": 60000, "readTimeout": 60000, "orderby": 5, "protocols": "http,https", "methods": "", "hosts": "zhyy.jxdxxt.com", "path": "/", "regexPriority": 0, "stripPath": true, "preserveHost": false, "targetList": [{"id": "1587718666657513474", "weight": "100", "target": "134.224.183.49:4882"}]}
2023-12-01 15:17:22,845 - root - INFO - test04_edit_business_stragety:修改策略数据成功
2023-12-01 15:17:23,356 - root - INFO - test04_edit_business_stragety:------用例场景：还原策略数据------
2023-12-01 15:17:23,356 - root - INFO - test04_edit_business_stragety:接口请求入参：{'enableActiveCheck': False, 'enablePassiveCheck': False, 'routeId': '1587718666594598913', 'routeUuid': 'b776183d-7dc3-464c-a9b9-70e783ce2d8e', 'upstreamId': '1587718665114009602', 'upstreamUuid': '4717f427-eea1-4398-bda5-d186cc54f2d1', 'nick': '智慧运营系统2', 'serviceId': '1587718666376495106', 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'hashOnHeader': '', 'hashFallHeader': '', 'hashOnCookie': '', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'retries': 5, 'protocol': 'https', 'paths': '/', 'pathHandling': 'v0', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'orderby': 0, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'path': '/', 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'targetList': [{'id': '1587718666657513474', 'weight': '100', 'target': '134.224.183.49:4882'}]}
2023-12-01 15:17:23,515 - root - INFO - test04_edit_business_stragety:还原策略数据成功，整个用例通过
2023-12-01 15:17:23,524 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:17:23,548 - root - INFO - test01_query_kongs:接口请求成功，用例通过，获取的请求结果：{'pageNum': 1, 'pageSize': 1, 'size': 1, 'startRow': 0, 'endRow': 0, 'total': 1, 'pages': 1, 'list': [{'id': '1572479661942816770', 'name': '生产调度网关--模拟发版', 'url': 'http://192.168.103.77/kong-admin-api', 'key': 'icds@20220824', 'flag': 1, 'regionIds': '1,4,1572476132326948866', 'regionNames': 'MBOSS域,MSS,终端末梢系统', 'status': 1, 'orderby': 1, 'createBy': 1, 'createTime': '2022-09-21T14:55:41.318+08:00', 'updateBy': 1, 'updateTime': '2023-12-01T15:14:13.852+08:00', 'hasBeenUsed': True}], 'prePage': 0, 'nextPage': 0, 'isFirstPage': True, 'isLastPage': True, 'hasPreviousPage': False, 'hasNextPage': False, 'navigatePages': 8, 'navigatepageNums': [1], 'navigateFirstPage': 1, 'navigateLastPage': 1, 'lastPage': 1, 'firstPage': 1}
2023-12-01 15:17:23,580 - root - INFO - test02_change_kong_order:------用例场景：修改业务网关排序值------
2023-12-01 15:17:23,581 - root - INFO - test02_change_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '6'}
2023-12-01 15:17:23,593 - root - INFO - test02_change_kong_order:成功修改业务网关排序值，用例通过
2023-12-01 15:17:23,614 - root - INFO - test03_reset_kong_order:------用例场景：还原业务网关排序值------
2023-12-01 15:17:23,614 - root - INFO - test03_reset_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '1'}
2023-12-01 15:17:23,631 - root - INFO - test03_reset_kong_order:恢复业务网关排序值成功，用例通过
2023-12-01 15:17:23,655 - root - INFO - test04_edit_kong_information:------用例场景：编辑业务网关信息------
2023-12-01 15:17:23,656 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 6, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:17:23,679 - root - INFO - test04_edit_kong_information:编辑网关信息成功
2023-12-01 15:17:24,197 - root - INFO - test04_edit_kong_information:------用例场景：还原业务网关信息------
2023-12-01 15:17:24,198 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 1, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:17:24,263 - root - INFO - test04_edit_kong_information:还原网关信息成功，用例通过
2023-12-01 15:17:24,273 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:17:24,286 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:17:24,288 - root - INFO - test01_waf_strategy:获取请求结果：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:17:24,309 - root - INFO - test02_change_waf_status:------用例场景：修改waf策略状态------
2023-12-01 15:17:24,323 - root - INFO - test02_change_waf_status:修改waf策略状态成功
2023-12-01 15:17:24,849 - root - INFO - test02_change_waf_status:还原waf策略状态成功
2023-12-01 15:17:24,869 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:17:24,899 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:17:24,905 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:17:25,011 - root - INFO - test04_waf_details:------用例场景：查询第一条waf数据详情------
2023-12-01 15:17:25,023 - root - INFO - test04_waf_details:查询第一条waf数据详情成功
2023-12-01 15:17:25,024 - root - INFO - test04_waf_details:获得的查询结果：{'data': [{'id': '1628278021129584642', 'order': 1, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278076804775938', 'order': 2, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(bak|inc|old|mdb|sql|backup|java|class)$', 'enabled': 1, 'updateAt': '2023-02-22T14:18:40.11+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278124473040898', 'order': 3, 'checkId': 1, 'checkName': 'url类', 'rule': '(vhost|bbs|host|wwwroot|www|site|root|hytop|flashfxp).*\\.rar', 'enabled': 1, 'updateAt': '2023-02-22T14:18:51.475+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278166999089153', 'order': 4, 'checkId': 1, 'checkName': 'url类', 'rule': '(phpmyadmin|jmx-console|jmxinvokerservlet)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:01.614+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278289812504577', 'order': 5, 'checkId': 1, 'checkName': 'url类', 'rule': '/(attachments|upimg|images|css|uploadfiles|html|uploads|templets|static|template|data|inc|forumdata|upload|includes|cache|avatar)/(\\w+).(php|jsp)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:30.895+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628294141215531009', 'order': 6, 'checkId': 1, 'checkName': 'url类', 'rule': 'java\\.lang', 'enabled': 1, 'updateAt': '2023-02-22T15:22:30.163+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1676143244657766401', 'order': 7, 'checkId': 1, 'checkName': 'url类', 'rule': '/test?*', 'enabled': 1, 'updateAt': '2023-07-04T16:17:45.417+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}], 'recordsTotal': 7, 'recordsFiltered': 7}
2023-12-01 15:17:25,024 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:17:25,026 - root - INFO - test04_waf_details:失败原因：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:17:25,056 - root - INFO - test05_change_waf_detail_status:------用例场景：修改第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:17:25,071 - root - INFO - test05_change_waf_detail_status:修改第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:17:25,585 - root - INFO - test05_change_waf_detail_status:------用例场景：还原第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:17:25,605 - root - INFO - test05_change_waf_detail_status:还原第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:17:25,640 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:17:25,656 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:17:25,658 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:17:25,659 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:17:25,659 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:17:25,671 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:17:25,675 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:22:55,178 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:22:55,223 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:22:55,223 - root - INFO - test01_waf_strategy:获取的请求结果：{'data': [{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'regionName': '智慧运营系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 0, 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:14:41.782+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587719270624706562', 'nick': '大数据能力开放门户', 'serviceFlag': 1, 'upstreamId': '1587719270414991361', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713006758838274', 'kongId': '1572479661942816770', 'regionName': '大数据能力开放门户', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'dxjnlkfmh.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:12:27.223+08:00', 'updatedAt': '2023-10-25T15:56:05.984+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720110060126210', 'nick': '宽带网优评估云平台', 'serviceFlag': 1, 'upstreamId': '1587720109871382529', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712960285949953', 'kongId': '1572479661942816770', 'regionName': '宽带网优评估云平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'kdwypg.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:15:47.363+08:00', 'updatedAt': '2023-10-25T15:55:58.685+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720318487674881', 'nick': '江西电信综合考评系统', 'serviceFlag': 1, 'upstreamId': '1587720318395400193', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712907039260674', 'kongId': '1572479661942816770', 'regionName': '江西电信综合考评系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'zhkp.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:16:37.019+08:00', 'updatedAt': '2023-10-25T15:55:51.433+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720505121619969', 'nick': 'IT服务管理系统', 'serviceFlag': 1, 'upstreamId': '1587720505046122497', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712859731705857', 'kongId': '1572479661942816770', 'regionName': 'IT服务管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'itgl.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:17:21.517+08:00', 'updatedAt': '2023-10-25T15:55:43.712+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587756081044570114', 'nick': 'OSS运营支撑类系统', 'serviceFlag': 1, 'upstreamId': '1587756080872603649', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712162877456385', 'kongId': '1572479661942816770', 'regionName': 'OSS运营支撑类系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'ossyyzc.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T18:38:43.507+08:00', 'updatedAt': '2023-10-25T15:55:34.481+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601123814532497409', 'nick': '4A统一身份认证系统', 'serviceFlag': 1, 'upstreamId': '1601123813290983425', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'drz.jxtele.com', 'paths': '/', 'createdAt': '2022-12-09T15:57:19.551+08:00', 'updatedAt': '2023-10-25T16:12:29.777+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601126525994844161', 'nick': '营销服务支撑系统3', 'serviceFlag': 1, 'upstreamId': '1601126524925296641', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'yxzx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-12-09T16:08:05.984+08:00', 'updatedAt': '2023-11-30T09:57:45.177+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720890771095554', 'nick': '江西电信智慧机房管理系统2', 'serviceFlag': 1, 'upstreamId': '1587720890548797441', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712786109087745', 'kongId': '1572479661942816770', 'regionName': '江西电信智慧机房管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'zhjf.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:18:53.49+08:00', 'updatedAt': '2023-11-14T17:19:44.435+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587721206862233602', 'nick': '精准营销平台', 'serviceFlag': 1, 'upstreamId': '1587721205683634178', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712733361520641', 'kongId': '1572479661942816770', 'regionName': '精准营销平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'jzyx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:20:08.849+08:00', 'updatedAt': '2023-10-25T15:52:42.953+08:00', 'targetFlag': 1, 'enabledPluginNames': []}], 'recordsTotal': 45, 'recordsFiltered': 45}
2023-12-01 15:22:55,262 - root - INFO - test02_change_business_stragety_order:------用例场景：修改策略排序值------
2023-12-01 15:22:55,263 - root - INFO - test02_change_business_stragety_order:接口请求入参：{'newOrderby': 5, 'serviceId': '1587718666376495106'}
2023-12-01 15:22:55,285 - root - INFO - test02_change_business_stragety_order:成功修改策略排序值，用例通过
2023-12-01 15:22:55,836 - root - INFO - test03_reset_business_stragety_order:------用例场景：还原策略排序值------
2023-12-01 15:22:55,837 - root - INFO - test03_reset_business_stragety_order:接口请求入参：{'newOrderby': 0, 'serviceId': '1587718666376495106'}
2023-12-01 15:22:55,852 - root - INFO - test03_reset_business_stragety_order:成功还原策略排序值，用例通过
2023-12-01 15:22:55,887 - root - INFO - test04_edit_business_stragety:开始查询策略详情数据
2023-12-01 15:22:55,887 - root - INFO - test04_edit_business_stragety:查询策略详情接口请求入参：1587718666376495106
2023-12-01 15:22:55,904 - root - INFO - test04_edit_business_stragety:策略详情接口查询结果为：{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceUuid': '94601e62-4fec-4eb5-8f57-fe722d65aefb', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamUuid': 'edb1f6a8-f44c-491f-ae0f-2424c285e295', 'upstreamFlag': 1, 'routeId': '1587718666594598913', 'routeUuid': '8f9f4cb4-7721-4cb2-ba58-182e7e1d3d33', 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'retries': 5, 'protocol': 'https', 'host': 'zhyy', 'path': '/', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:14:41.782+08:00', 'httpsRedirectStatusCode': 426, 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'snis': 'zhyy.jxdxxt.com', 'pathHandling': 'v0', 'targetList': [{'id': '1587718666657513474', 'flag': 1, 'uuid': '525ff146-dbe5-4ee7-861a-225370ec6fdf', 'upstreamId': 1587718665114009602, 'upstreamUuid': 'edb1f6a8-f44c-491f-ae0f-2424c285e295', 'target': '134.224.183.49:4882', 'weight': 100, 'status': 1, 'createBy': 1, 'createAt': '2022-11-02T16:10:03.174+08:00', 'updateBy': 1, 'updateAt': '2023-12-01T15:14:41.799+08:00'}], 'enableActiveCheck': False, 'enablePassiveCheck': False}
2023-12-01 15:22:55,942 - root - INFO - test04_edit_business_stragety:查询到有系统域数据、业务网关数据、业务域名数据，开始进行编辑流程
2023-12-01 15:22:55,942 - root - INFO - test04_edit_business_stragety:------用例场景：修改策略数据------
2023-12-01 15:22:55,942 - root - INFO - test04_edit_business_stragety:接口请求入参：{"enableActiveCheck": false, "enablePassiveCheck": false, "routeId": "1587718666594598913", "routeUuid": "8f9f4cb4-7721-4cb2-ba58-182e7e1d3d33", "upstreamId": "1587718665114009602", "upstreamUuid": "edb1f6a8-f44c-491f-ae0f-2424c285e295", "nick": "智慧运营系统2", "serviceId": "1587718666376495106", "regionId": "1587713057493139457", "kongId": "1572479661942816770", "hashOn": "none", "hashFallback": "none", "hashOnCookiePath": "/", "hashOnHeader": "", "hashFallHeader": "", "hashOnCookie": "", "slots": 10000, "healthchecks": {"active": {"unhealthy": {"interval": 0, "timeouts": 0, "tcp_failures": 0, "http_failures": 0, "http_statuses": [429, 404, 500, 501, 502, 503, 504, 505]}, "type": "https", "timeout": 1, "healthy": {"interval": 0, "successes": 0, "http_statuses": [200, 302]}, "concurrency": 10, "http_path": "/", "https_sni": "zhyy.jxdxxt.com", "https_verify_certificate": false}, "passive": {"unhealthy": {"timeouts": 0, "http_failures": 0, "http_statuses": [429, 500, 503], "tcp_failures": 0}, "healthy": {"successes": 0, "http_statuses": [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, "type": "https"}}, "retries": 5, "protocol": "https", "paths": "/", "pathHandling": "v0", "connectTimeout": 60000, "writeTimeout": 60000, "readTimeout": 60000, "orderby": 5, "protocols": "http,https", "methods": "", "hosts": "zhyy.jxdxxt.com", "path": "/", "regexPriority": 0, "stripPath": true, "preserveHost": false, "targetList": [{"id": "1587718666657513474", "weight": "100", "target": "134.224.183.49:4882"}]}
2023-12-01 15:22:56,104 - root - INFO - test04_edit_business_stragety:修改策略数据成功
2023-12-01 15:22:56,608 - root - INFO - test04_edit_business_stragety:------用例场景：还原策略数据------
2023-12-01 15:22:56,610 - root - INFO - test04_edit_business_stragety:接口请求入参：{'enableActiveCheck': False, 'enablePassiveCheck': False, 'routeId': '1587718666594598913', 'routeUuid': '8f9f4cb4-7721-4cb2-ba58-182e7e1d3d33', 'upstreamId': '1587718665114009602', 'upstreamUuid': 'edb1f6a8-f44c-491f-ae0f-2424c285e295', 'nick': '智慧运营系统2', 'serviceId': '1587718666376495106', 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'hashOnHeader': '', 'hashFallHeader': '', 'hashOnCookie': '', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'retries': 5, 'protocol': 'https', 'paths': '/', 'pathHandling': 'v0', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'orderby': 0, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'path': '/', 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'targetList': [{'id': '1587718666657513474', 'weight': '100', 'target': '134.224.183.49:4882'}]}
2023-12-01 15:22:56,786 - root - INFO - test04_edit_business_stragety:还原策略数据成功，整个用例通过
2023-12-01 15:22:56,792 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:22:56,810 - root - INFO - test01_query_kongs:接口请求成功，用例通过，获取的请求结果：{'pageNum': 1, 'pageSize': 1, 'size': 1, 'startRow': 0, 'endRow': 0, 'total': 1, 'pages': 1, 'list': [{'id': '1572479661942816770', 'name': '生产调度网关--模拟发版', 'url': 'http://192.168.103.77/kong-admin-api', 'key': 'icds@20220824', 'flag': 1, 'regionIds': '1,4,1572476132326948866', 'regionNames': 'MBOSS域,MSS,终端末梢系统', 'status': 1, 'orderby': 1, 'createBy': 1, 'createTime': '2022-09-21T14:55:41.318+08:00', 'updateBy': 1, 'updateTime': '2023-12-01T15:14:42.535+08:00', 'hasBeenUsed': True}], 'prePage': 0, 'nextPage': 0, 'isFirstPage': True, 'isLastPage': True, 'hasPreviousPage': False, 'hasNextPage': False, 'navigatePages': 8, 'navigatepageNums': [1], 'navigateFirstPage': 1, 'navigateLastPage': 1, 'lastPage': 1, 'firstPage': 1}
2023-12-01 15:22:56,836 - root - INFO - test02_change_kong_order:------用例场景：修改业务网关排序值------
2023-12-01 15:22:56,836 - root - INFO - test02_change_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '6'}
2023-12-01 15:22:56,848 - root - INFO - test02_change_kong_order:成功修改业务网关排序值，用例通过
2023-12-01 15:22:56,874 - root - INFO - test03_reset_kong_order:------用例场景：还原业务网关排序值------
2023-12-01 15:22:56,874 - root - INFO - test03_reset_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '1'}
2023-12-01 15:22:56,886 - root - INFO - test03_reset_kong_order:恢复业务网关排序值成功，用例通过
2023-12-01 15:22:56,918 - root - INFO - test04_edit_kong_information:------用例场景：编辑业务网关信息------
2023-12-01 15:22:56,919 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 6, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:22:56,946 - root - INFO - test04_edit_kong_information:编辑网关信息成功
2023-12-01 15:22:57,452 - root - INFO - test04_edit_kong_information:------用例场景：还原业务网关信息------
2023-12-01 15:22:57,454 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 1, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:22:57,519 - root - INFO - test04_edit_kong_information:还原网关信息成功，用例通过
2023-12-01 15:22:57,524 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:22:57,535 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:22:57,535 - root - INFO - test01_waf_strategy:获取请求结果：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:22:57,550 - root - INFO - test02_change_waf_status:------用例场景：修改waf策略状态------
2023-12-01 15:22:57,561 - root - INFO - test02_change_waf_status:修改waf策略状态成功
2023-12-01 15:22:58,088 - root - INFO - test02_change_waf_status:还原waf策略状态成功
2023-12-01 15:22:58,105 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:22:58,133 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:22:58,140 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:23:03,281 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:23:03,306 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:23:03,308 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:23:08,352 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:23:08,377 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:23:08,379 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:23:08,411 - root - INFO - test04_waf_details:------用例场景：查询第一条waf数据详情------
2023-12-01 15:23:08,427 - root - INFO - test04_waf_details:查询第一条waf数据详情成功
2023-12-01 15:23:08,429 - root - INFO - test04_waf_details:获得的查询结果：{'data': [{'id': '1628278021129584642', 'order': 1, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278076804775938', 'order': 2, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(bak|inc|old|mdb|sql|backup|java|class)$', 'enabled': 1, 'updateAt': '2023-02-22T14:18:40.11+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278124473040898', 'order': 3, 'checkId': 1, 'checkName': 'url类', 'rule': '(vhost|bbs|host|wwwroot|www|site|root|hytop|flashfxp).*\\.rar', 'enabled': 1, 'updateAt': '2023-02-22T14:18:51.475+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278166999089153', 'order': 4, 'checkId': 1, 'checkName': 'url类', 'rule': '(phpmyadmin|jmx-console|jmxinvokerservlet)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:01.614+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278289812504577', 'order': 5, 'checkId': 1, 'checkName': 'url类', 'rule': '/(attachments|upimg|images|css|uploadfiles|html|uploads|templets|static|template|data|inc|forumdata|upload|includes|cache|avatar)/(\\w+).(php|jsp)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:30.895+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628294141215531009', 'order': 6, 'checkId': 1, 'checkName': 'url类', 'rule': 'java\\.lang', 'enabled': 1, 'updateAt': '2023-02-22T15:22:30.163+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1676143244657766401', 'order': 7, 'checkId': 1, 'checkName': 'url类', 'rule': '/test?*', 'enabled': 1, 'updateAt': '2023-07-04T16:17:45.417+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}], 'recordsTotal': 7, 'recordsFiltered': 7}
2023-12-01 15:23:08,430 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:23:08,432 - root - INFO - test04_waf_details:失败原因：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:23:08,469 - root - INFO - test05_change_waf_detail_status:------用例场景：修改第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:23:08,485 - root - INFO - test05_change_waf_detail_status:修改第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:23:08,987 - root - INFO - test05_change_waf_detail_status:------用例场景：还原第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:23:09,001 - root - INFO - test05_change_waf_detail_status:还原第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:23:09,032 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:23:09,046 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:23:09,046 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:23:09,046 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:23:09,047 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:23:09,055 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:23:09,057 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:23:14,094 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:23:14,106 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:23:14,106 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:23:14,106 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:23:14,107 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:23:14,115 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:23:14,116 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:23:19,167 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:23:19,184 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:23:19,186 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:23:19,187 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:23:19,188 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:23:19,198 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:23:19,200 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:24:34,844 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:24:34,876 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:24:34,876 - root - INFO - test01_waf_strategy:获取的请求结果：{'data': [{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'regionName': '智慧运营系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 0, 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:20:15.041+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587719270624706562', 'nick': '大数据能力开放门户', 'serviceFlag': 1, 'upstreamId': '1587719270414991361', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587713006758838274', 'kongId': '1572479661942816770', 'regionName': '大数据能力开放门户', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'dxjnlkfmh.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:12:27.223+08:00', 'updatedAt': '2023-10-25T15:56:05.984+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720110060126210', 'nick': '宽带网优评估云平台', 'serviceFlag': 1, 'upstreamId': '1587720109871382529', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712960285949953', 'kongId': '1572479661942816770', 'regionName': '宽带网优评估云平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'kdwypg.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:15:47.363+08:00', 'updatedAt': '2023-10-25T15:55:58.685+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720318487674881', 'nick': '江西电信综合考评系统', 'serviceFlag': 1, 'upstreamId': '1587720318395400193', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712907039260674', 'kongId': '1572479661942816770', 'regionName': '江西电信综合考评系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'zhkp.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:16:37.019+08:00', 'updatedAt': '2023-10-25T15:55:51.433+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720505121619969', 'nick': 'IT服务管理系统', 'serviceFlag': 1, 'upstreamId': '1587720505046122497', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712859731705857', 'kongId': '1572479661942816770', 'regionName': 'IT服务管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'itgl.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:17:21.517+08:00', 'updatedAt': '2023-10-25T15:55:43.712+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587756081044570114', 'nick': 'OSS运营支撑类系统', 'serviceFlag': 1, 'upstreamId': '1587756080872603649', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712162877456385', 'kongId': '1572479661942816770', 'regionName': 'OSS运营支撑类系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'ossyyzc.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T18:38:43.507+08:00', 'updatedAt': '2023-10-25T15:55:34.481+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601123814532497409', 'nick': '4A统一身份认证系统', 'serviceFlag': 1, 'upstreamId': '1601123813290983425', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'drz.jxtele.com', 'paths': '/', 'createdAt': '2022-12-09T15:57:19.551+08:00', 'updatedAt': '2023-10-25T16:12:29.777+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1601126525994844161', 'nick': '营销服务支撑系统3', 'serviceFlag': 1, 'upstreamId': '1601126524925296641', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1', 'kongId': '1572479661942816770', 'regionName': 'MBOSS域', 'kongName': '生产调度网关--模拟发版', 'orderby': 2, 'hosts': 'yxzx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-12-09T16:08:05.984+08:00', 'updatedAt': '2023-11-30T09:57:45.177+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587720890771095554', 'nick': '江西电信智慧机房管理系统2', 'serviceFlag': 1, 'upstreamId': '1587720890548797441', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712786109087745', 'kongId': '1572479661942816770', 'regionName': '江西电信智慧机房管理系统', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'zhjf.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:18:53.49+08:00', 'updatedAt': '2023-11-14T17:19:44.435+08:00', 'targetFlag': 1, 'enabledPluginNames': []}, {'serviceId': '1587721206862233602', 'nick': '精准营销平台', 'serviceFlag': 1, 'upstreamId': '1587721205683634178', 'upstreamFlag': 1, 'routeFlag': 1, 'regionId': '1587712733361520641', 'kongId': '1572479661942816770', 'regionName': '精准营销平台', 'kongName': '生产调度网关--模拟发版', 'orderby': 3, 'hosts': 'jzyx.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:20:08.849+08:00', 'updatedAt': '2023-10-25T15:52:42.953+08:00', 'targetFlag': 1, 'enabledPluginNames': []}], 'recordsTotal': 45, 'recordsFiltered': 45}
2023-12-01 15:24:34,927 - root - INFO - test02_change_business_stragety_order:------用例场景：修改策略排序值------
2023-12-01 15:24:34,927 - root - INFO - test02_change_business_stragety_order:接口请求入参：{'newOrderby': 5, 'serviceId': '1587718666376495106'}
2023-12-01 15:24:34,943 - root - INFO - test02_change_business_stragety_order:成功修改策略排序值，用例通过
2023-12-01 15:24:35,484 - root - INFO - test03_reset_business_stragety_order:------用例场景：还原策略排序值------
2023-12-01 15:24:35,484 - root - INFO - test03_reset_business_stragety_order:接口请求入参：{'newOrderby': 0, 'serviceId': '1587718666376495106'}
2023-12-01 15:24:35,494 - root - INFO - test03_reset_business_stragety_order:成功还原策略排序值，用例通过
2023-12-01 15:24:35,525 - root - INFO - test04_edit_business_stragety:开始查询策略详情数据
2023-12-01 15:24:35,540 - root - INFO - test04_edit_business_stragety:查询策略详情接口请求入参：1587718666376495106
2023-12-01 15:24:35,558 - root - INFO - test04_edit_business_stragety:策略详情接口查询结果为：{'serviceId': '1587718666376495106', 'nick': '智慧运营系统2', 'serviceUuid': '970c5363-fe21-4cd4-88e0-e6614a4f0d01', 'serviceFlag': 1, 'upstreamId': '1587718665114009602', 'upstreamUuid': 'c530767d-b034-4d75-bf5f-63546439b771', 'upstreamFlag': 1, 'routeId': '1587718666594598913', 'routeUuid': '59275028-be0c-4901-be6a-67dd575cac1b', 'routeFlag': 1, 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'retries': 5, 'protocol': 'https', 'host': 'zhyy', 'path': '/', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'paths': '/', 'createdAt': '2022-11-02T16:10:03.159+08:00', 'updatedAt': '2023-12-01T15:20:15.041+08:00', 'httpsRedirectStatusCode': 426, 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'snis': 'zhyy.jxdxxt.com', 'pathHandling': 'v0', 'targetList': [{'id': '1587718666657513474', 'flag': 1, 'uuid': '5143f079-ee71-491e-9d59-0c3fa5d101b7', 'upstreamId': 1587718665114009602, 'upstreamUuid': 'c530767d-b034-4d75-bf5f-63546439b771', 'target': '134.224.183.49:4882', 'weight': 100, 'status': 1, 'createBy': 1, 'createAt': '2022-11-02T16:10:03.174+08:00', 'updateBy': 1, 'updateAt': '2023-12-01T15:20:15.056+08:00'}], 'enableActiveCheck': False, 'enablePassiveCheck': False}
2023-12-01 15:24:35,596 - root - INFO - test04_edit_business_stragety:查询到有系统域数据、业务网关数据、业务域名数据，开始进行编辑流程
2023-12-01 15:24:35,597 - root - INFO - test04_edit_business_stragety:------用例场景：修改策略数据------
2023-12-01 15:24:35,597 - root - INFO - test04_edit_business_stragety:接口请求入参：{"enableActiveCheck": false, "enablePassiveCheck": false, "routeId": "1587718666594598913", "routeUuid": "59275028-be0c-4901-be6a-67dd575cac1b", "upstreamId": "1587718665114009602", "upstreamUuid": "c530767d-b034-4d75-bf5f-63546439b771", "nick": "智慧运营系统2", "serviceId": "1587718666376495106", "regionId": "1587713057493139457", "kongId": "1572479661942816770", "hashOn": "none", "hashFallback": "none", "hashOnCookiePath": "/", "hashOnHeader": "", "hashFallHeader": "", "hashOnCookie": "", "slots": 10000, "healthchecks": {"active": {"unhealthy": {"interval": 0, "timeouts": 0, "tcp_failures": 0, "http_failures": 0, "http_statuses": [429, 404, 500, 501, 502, 503, 504, 505]}, "type": "https", "timeout": 1, "healthy": {"interval": 0, "successes": 0, "http_statuses": [200, 302]}, "concurrency": 10, "http_path": "/", "https_sni": "zhyy.jxdxxt.com", "https_verify_certificate": false}, "passive": {"unhealthy": {"timeouts": 0, "http_failures": 0, "http_statuses": [429, 500, 503], "tcp_failures": 0}, "healthy": {"successes": 0, "http_statuses": [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, "type": "https"}}, "retries": 5, "protocol": "https", "paths": "/", "pathHandling": "v0", "connectTimeout": 60000, "writeTimeout": 60000, "readTimeout": 60000, "orderby": 5, "protocols": "http,https", "methods": "", "hosts": "zhyy.jxdxxt.com", "path": "/", "regexPriority": 0, "stripPath": true, "preserveHost": false, "targetList": [{"id": "1587718666657513474", "weight": "100", "target": "134.224.183.49:4882"}]}
2023-12-01 15:24:35,750 - root - INFO - test04_edit_business_stragety:修改策略数据成功
2023-12-01 15:24:36,264 - root - INFO - test04_edit_business_stragety:------用例场景：还原策略数据------
2023-12-01 15:24:36,264 - root - INFO - test04_edit_business_stragety:接口请求入参：{'enableActiveCheck': False, 'enablePassiveCheck': False, 'routeId': '1587718666594598913', 'routeUuid': '59275028-be0c-4901-be6a-67dd575cac1b', 'upstreamId': '1587718665114009602', 'upstreamUuid': 'c530767d-b034-4d75-bf5f-63546439b771', 'nick': '智慧运营系统2', 'serviceId': '1587718666376495106', 'regionId': '1587713057493139457', 'kongId': '1572479661942816770', 'hashOn': 'none', 'hashFallback': 'none', 'hashOnCookiePath': '/', 'hashOnHeader': '', 'hashFallHeader': '', 'hashOnCookie': '', 'slots': 10000, 'healthchecks': {'active': {'unhealthy': {'interval': 0, 'timeouts': 0, 'tcp_failures': 0, 'http_failures': 0, 'http_statuses': [429, 404, 500, 501, 502, 503, 504, 505]}, 'type': 'https', 'timeout': 1, 'healthy': {'interval': 0, 'successes': 0, 'http_statuses': [200, 302]}, 'concurrency': 10, 'http_path': '/', 'https_sni': 'zhyy.jxdxxt.com', 'https_verify_certificate': False}, 'passive': {'unhealthy': {'timeouts': 0, 'http_failures': 0, 'http_statuses': [429, 500, 503], 'tcp_failures': 0}, 'healthy': {'successes': 0, 'http_statuses': [200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]}, 'type': 'https'}}, 'retries': 5, 'protocol': 'https', 'paths': '/', 'pathHandling': 'v0', 'connectTimeout': 60000, 'writeTimeout': 60000, 'readTimeout': 60000, 'orderby': 0, 'protocols': 'http,https', 'methods': '', 'hosts': 'zhyy.jxdxxt.com', 'path': '/', 'regexPriority': 0, 'stripPath': True, 'preserveHost': False, 'targetList': [{'id': '1587718666657513474', 'weight': '100', 'target': '134.224.183.49:4882'}]}
2023-12-01 15:24:36,438 - root - INFO - test04_edit_business_stragety:还原策略数据成功，整个用例通过
2023-12-01 15:24:36,445 - root - INFO - test01_query_kongs:------用例场景：初始化查询业务网关信息------
2023-12-01 15:24:36,463 - root - INFO - test01_query_kongs:接口请求成功，用例通过，获取的请求结果：{'pageNum': 1, 'pageSize': 1, 'size': 1, 'startRow': 0, 'endRow': 0, 'total': 1, 'pages': 1, 'list': [{'id': '1572479661942816770', 'name': '生产调度网关--模拟发版', 'url': 'http://192.168.103.77/kong-admin-api', 'key': 'icds@20220824', 'flag': 1, 'regionIds': '1,4,1572476132326948866', 'regionNames': 'MBOSS域,MSS,终端末梢系统', 'status': 1, 'orderby': 1, 'createBy': 1, 'createTime': '2022-09-21T14:55:41.318+08:00', 'updateBy': 1, 'updateTime': '2023-12-01T15:20:15.79+08:00', 'hasBeenUsed': True}], 'prePage': 0, 'nextPage': 0, 'isFirstPage': True, 'isLastPage': True, 'hasPreviousPage': False, 'hasNextPage': False, 'navigatePages': 8, 'navigatepageNums': [1], 'navigateFirstPage': 1, 'navigateLastPage': 1, 'lastPage': 1, 'firstPage': 1}
2023-12-01 15:24:36,487 - root - INFO - test02_change_kong_order:------用例场景：修改业务网关排序值------
2023-12-01 15:24:36,488 - root - INFO - test02_change_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '6'}
2023-12-01 15:24:36,500 - root - INFO - test02_change_kong_order:成功修改业务网关排序值，用例通过
2023-12-01 15:24:36,519 - root - INFO - test03_reset_kong_order:------用例场景：还原业务网关排序值------
2023-12-01 15:24:36,519 - root - INFO - test03_reset_kong_order:获取请求入参：{'id': '1572479661942816770', 'newOrderby': '1'}
2023-12-01 15:24:36,531 - root - INFO - test03_reset_kong_order:恢复业务网关排序值成功，用例通过
2023-12-01 15:24:36,555 - root - INFO - test04_edit_kong_information:------用例场景：编辑业务网关信息------
2023-12-01 15:24:36,556 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 6, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:24:36,579 - root - INFO - test04_edit_kong_information:编辑网关信息成功
2023-12-01 15:24:37,091 - root - INFO - test04_edit_kong_information:------用例场景：还原业务网关信息------
2023-12-01 15:24:37,092 - root - INFO - test04_edit_kong_information:获取请求入参：{'id': '1572479661942816770', 'key': 'icds@20220824', 'name': '生产调度网关--模拟发版', 'orderby': 1, 'status': 1, 'url': 'http://192.168.103.77/kong-admin-api', 'regionIds': '1,4,1572476132326948866'}
2023-12-01 15:24:37,160 - root - INFO - test04_edit_kong_information:还原网关信息成功，用例通过
2023-12-01 15:24:37,168 - root - INFO - test01_waf_strategy:------用例场景：查询waf策略------
2023-12-01 15:24:37,181 - root - INFO - test01_waf_strategy:数据查询成功
2023-12-01 15:24:37,182 - root - INFO - test01_waf_strategy:获取请求结果：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:24:37,207 - root - INFO - test02_change_waf_status:------用例场景：修改waf策略状态------
2023-12-01 15:24:37,223 - root - INFO - test02_change_waf_status:修改waf策略状态成功
2023-12-01 15:24:37,742 - root - INFO - test02_change_waf_status:还原waf策略状态成功
2023-12-01 15:24:37,762 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:24:37,785 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:24:37,792 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:24:39,900 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:24:39,925 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:24:39,927 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:24:41,962 - root - INFO - test03_synchronization_waf:------用例场景：同步waf策略------
2023-12-01 15:24:41,986 - root - INFO - test03_synchronization_waf:同步waf策略失败
2023-12-01 15:24:41,989 - root - INFO - test03_synchronization_waf:失败原因：{'type': 'problem/message', 'title': '插件参数错误', 'status': 400, 'path': '/api/cscpWafChecks/syncWaf', 'message': 'error.plugin.incorrect'}
2023-12-01 15:24:42,022 - root - INFO - test04_waf_details:------用例场景：查询第一条waf数据详情------
2023-12-01 15:24:42,037 - root - INFO - test04_waf_details:查询第一条waf数据详情成功
2023-12-01 15:24:42,038 - root - INFO - test04_waf_details:获得的查询结果：{'data': [{'id': '1628278021129584642', 'order': 1, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278076804775938', 'order': 2, 'checkId': 1, 'checkName': 'url类', 'rule': '\\.(bak|inc|old|mdb|sql|backup|java|class)$', 'enabled': 1, 'updateAt': '2023-02-22T14:18:40.11+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278124473040898', 'order': 3, 'checkId': 1, 'checkName': 'url类', 'rule': '(vhost|bbs|host|wwwroot|www|site|root|hytop|flashfxp).*\\.rar', 'enabled': 1, 'updateAt': '2023-02-22T14:18:51.475+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278166999089153', 'order': 4, 'checkId': 1, 'checkName': 'url类', 'rule': '(phpmyadmin|jmx-console|jmxinvokerservlet)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:01.614+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628278289812504577', 'order': 5, 'checkId': 1, 'checkName': 'url类', 'rule': '/(attachments|upimg|images|css|uploadfiles|html|uploads|templets|static|template|data|inc|forumdata|upload|includes|cache|avatar)/(\\w+).(php|jsp)', 'enabled': 1, 'updateAt': '2023-02-22T14:19:30.895+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1628294141215531009', 'order': 6, 'checkId': 1, 'checkName': 'url类', 'rule': 'java\\.lang', 'enabled': 1, 'updateAt': '2023-02-22T15:22:30.163+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}, {'id': '1676143244657766401', 'order': 7, 'checkId': 1, 'checkName': 'url类', 'rule': '/test?*', 'enabled': 1, 'updateAt': '2023-07-04T16:17:45.417+08:00', 'updateBy': 1, 'lastUpdatePerson': 'admin'}], 'recordsTotal': 7, 'recordsFiltered': 7}
2023-12-01 15:24:42,040 - root - INFO - test04_waf_details:查询waf策略失败,用例未通过
2023-12-01 15:24:42,041 - root - INFO - test04_waf_details:失败原因：{'data': [{'id': '1', 'checkName': 'url类', 'remark': 'url检查', 'enabled': 0}, {'id': '2', 'checkName': 'args类', 'remark': 'get请求参数检查', 'enabled': 1}, {'id': '3', 'checkName': 'UserAgent类', 'remark': 'User-Agent检查', 'enabled': 0}, {'id': '4', 'checkName': 'cookie类', 'remark': 'cookie检查', 'enabled': 0}, {'id': '5', 'checkName': 'post类', 'remark': 'post请求参数检查', 'enabled': 0}], 'recordsTotal': 5, 'recordsFiltered': 5}
2023-12-01 15:24:42,074 - root - INFO - test05_change_waf_detail_status:------用例场景：修改第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:24:42,091 - root - INFO - test05_change_waf_detail_status:修改第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:24:42,598 - root - INFO - test05_change_waf_detail_status:------用例场景：还原第一条waf数据详情里面的第一条策略规则数据状态------
2023-12-01 15:24:42,617 - root - INFO - test05_change_waf_detail_status:还原第一条waf数据详情里面的第一条策略规则数据状态成功
2023-12-01 15:24:42,669 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:24:42,683 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:24:42,685 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:24:42,686 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:24:42,686 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:24:42,697 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:24:42,701 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:24:44,756 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:24:44,770 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:24:44,771 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:24:44,772 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:24:44,772 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:24:44,782 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:24:44,783 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
2023-12-01 15:24:46,832 - root - INFO - test06_edit_waf_detail:------用例场景：查询第一条waf数据详情里面的第一条策略规则的详细数据------
2023-12-01 15:24:46,848 - root - INFO - test06_edit_waf_detail:查询第一条waf数据详情里面的第一条策略规则的详细数据成功
2023-12-01 15:24:46,849 - root - INFO - test06_edit_waf_detail:获得的查询结果：{'id': '1628278021129584642', 'checkId': 1, 'rule': '\\.(svn|htaccess|bash_history)', 'enabled': 1, 'remark': '', 'status': 1, 'createBy': 1, 'createAt': '2023-02-22T14:18:26.524+08:00', 'updateBy': 1, 'updateAt': '2023-04-07T16:35:35.304+08:00'}
2023-12-01 15:24:46,849 - root - INFO - test06_edit_waf_detail:开始编辑-备注字段，并提交
2023-12-01 15:24:46,850 - root - INFO - test06_edit_waf_detail:提交参数为：{'id': '1628278021129584642', 'checkId': '1', 'rule': '\\.(svn|htaccess|bash_history)', 'remark': 'test', 'enabled': '1'}
2023-12-01 15:24:46,861 - root - INFO - test06_edit_waf_detail:修改第一条waf数据详情里面的第一条策略规则的详细数据-备注失败
2023-12-01 15:24:46,862 - root - INFO - test06_edit_waf_detail:失败原因：{'type': 'problem/message', 'title': 'Unauthorized', 'status': 401, 'detail': 'Full authentication is required to access this resource', 'path': '/api/cscpWafRules', 'message': '未授权'}
